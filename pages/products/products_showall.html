<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="ปูนสิงโต - จำหน่ายปูนคุณภาพสำหรับทุกงานก่อสร้าง">
    <meta property="og:title" content="ผลิตภัณฑ์-ปูนสิงโต - ปูนคุณภาพสำหรับทุกงานก่อสร้าง" />
    <meta property="og:description" content="ปูนสิงโต - จำหน่ายปูนคุณภาพสำหรับทุกงานก่อสร้าง ทั้งปูนโครงสร้าง ปูนฉาบ และปูนสำเร็จรูป" />
    <meta property="og:image" content="https://www.yourwebsite.com/assets/images/banners/productbanner1.jpg" />
    <meta property="og:url" content="https://www.yourwebsite.com/pages/products/products_showall.html" />
    <meta property="og:type" content="website" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ผลิตภัณฑ์-ปูนสิงโต</title>
    <!-- <link rel="icon" type="image/png" href="assets/icons/favicon.ico"> -->
    <!-- <link rel="stylesheet" href="css/product-poonsingto.css"> -->

<style>

/* - - - - - [Start] G E N E R A L Setting Style - - - - -  */
/* #region */

*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Kanit', sans-serif;
  line-height: 1.5;
  background: #f9f9f9;
  color: #292929;
}
html, body {
  height: 100%;
  scroll-behavior: smooth;
}
h1 {
  font-size: 2.5rem;
  font-weight: 600;
  margin: 0 0 1rem 0;
  line-height: 1.2;
}
h2 {
  font-size: 2rem;
  font-weight: 600;
  margin: 1.5rem 0 1rem 0;
  line-height: 1.3;
}
h3 {
  font-size: 1.75rem;
  font-weight: 500;
  margin: 1.25rem 0 0.75rem 0;
  line-height: 1.3;
}
h4 {
  font-size: 1.5rem;
  font-weight: 500;
  margin: 1rem 0 0.5rem 0;
  line-height: 1.4;
}
h5 {
  font-size: 0.85rem;
  font-weight: 500;
  margin: 0.75rem 0 0.5rem 0;
  line-height: 1.4;
}
p {
  font-size: 1rem;
  font-weight: 400;
  line-height: 1.6;
  margin: 0 0 1rem 0;
  color: #333;
}
img {
  max-width: 100%;
  height: auto;
  display: block;
}
a {
  text-decoration: none;
  color: inherit;
}
ul, ol {
  list-style: none;
}
input, button, textarea, select {
  font: inherit;
}
button {
  border: none;
  background: none;
  cursor: pointer;
}
table {
  border-collapse: collapse;
  width: 100%;
}

#preloader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #fff; /* หรือสีพื้นหลังของ preloader */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    opacity: 1; /* เริ่มต้นด้วย opacity 1 */
    transition: opacity 0.5s ease-out; /* เพิ่ม transition */
}
.cement-truck-animation img {
  width: 200px;
  height: auto;
  margin-bottom: 20px;
}
.cement-truck-animation .pouring {
  width: 20px;
  height: 100px;
  animation: pour 2s infinite ease-in-out;
  margin: 0 auto;
  border-radius: 5px;
}
@keyframes pour {
  0% { height: 0; opacity: 0.2; }
  50% { height: 80px; opacity: 1; }
  100% { height: 0; opacity: 0.2; }
}
.cement-truck-animation p {
  font-size: 16px;
  font-weight: bold;
  color: #333;
  margin-top: 0px;
}

.to-heaven-btn {
  position: fixed;
  bottom: 40px;
  right: 40px;
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, #b40000, #ff4d4d);
  color: white;
  font-size: 24px;
  text-align: center;
  line-height: 50px;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  z-index: 999;
  display: none; /* เริ่มต้นซ่อนไว้ */
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.to-heaven-btn:hover {
  transform: translateY(-5px);
  opacity: 0.9;
}
/* #endregion */
/* = = = = = [End] G E N E R A L Setting = = = = = */



/* - - - - - [Start] N A V I G A T I O N- - - - - */
/* #region */
.header-fixed-position {
    width: 100%;
    position: fixed;
    top: 0; /* Ensure it's fixed to the top */
    left: 0; /* Ensure it starts from the left */
    z-index: 1000; /* Higher z-index to be on top of other content */
}

.NavOfPoonSingtoolayout {
    background: linear-gradient(to right, #d70000, #5a0000);
    font-family: 'Kanit', sans-serif;
    display: flex; /* Use flex on this container */
    align-items: center;
    justify-content: space-between; /* Space out nav-header-mobile-wrapper and nav-list */
    padding: 0 20px;
    height: 8vh;
    min-height: 50px; /* Add a min-height to ensure visibility on very small screens */
}

/* New: Main navigation container for flex properties */
.main-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%; /* Ensure it takes full width of parent */
}

/* New: Wrapper for logo and hamburger on mobile */
.nav-header-mobile-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between; /* Space between logo and hamburger */
    width: auto; /* Default for desktop */
}

.nav-lci-above-group1 {
    display: flex;
    align-items: center;
}

.nav-logoLCI {
    display: flex;
    align-items: center;
    gap: 10px;
}

.nav-img-logoLCI img {
    width: 40px;
    height: auto;
}

.nav-titlename-logoLCI h3 {
    color: #fff;
    font-size: 1.5rem;
    margin: 0;
}

.nav-list {
    list-style: none;
    display: flex;
    gap: 25px;
    margin: 0;
    padding: 0;
    align-items: center;
}

.nav-list li {
    position: relative;
}

.nav-list a {
    display: block;
    padding: 14px 20px;
    color: white;
    text-decoration: none;
    transition: background-color 0.3s ease;
}

.nav-list a:hover {
    background-color: #bc1a1a;
}

.dropdown:hover .dropdown-menu {
    display: block;
}

.dropdown-menu {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    background-color: #730202;
    min-width: 160px;
    z-index: 1000;
}

.dropdown-menu li a {
    padding: 12px 16px;
    color: white;
    white-space: nowrap;
}

.dropdown-menu li a:hover {
    background-color: #a01616;
}

/* Hamburger Menu (Hidden by default on Desktop) */
.hamburger-menu {
    display: none; /* Hidden on desktop */
    flex-direction: column;
    cursor: pointer;
    padding: 10px;
    z-index: 1100; /* Ensure hamburger is above other elements */
}

.hamburger-menu .bar {
    width: 25px;
    height: 3px;
    background-color: #fff; /* White bars for red background */
    margin: 4px 0;
    transition: 0.4s;
}

/* --- Responsive Adjustments for Mobile --- */
@media (max-width: 768px) {
    .NavOfPoonSingtoolayout {
        height: auto; /* Height adapts to content when menu is open */
        flex-direction: column; /* Stack vertically */
        align-items: flex-start; /* Align logo and menu to the start */
        padding: 10px 20px;
    }

    .main-nav {
        flex-direction: column;
        align-items: flex-start;
    }

    .nav-header-mobile-wrapper {
        width: 100%; /* Take full width on mobile */
        justify-content: space-between; /* Space out logo and hamburger */
        align-items: center;
        min-height: 50px; /* Ensure this section has a minimum height */
    }

    .hamburger-menu {
        display: flex; /* Show hamburger on mobile */
    }

    .nav-list {
        display: none; /* Hide nav list by default on mobile */
        flex-direction: column;
        width: 100%;
        text-align: center;
        background-color: #630101; /* Darker red for mobile menu background */
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        padding-top: 10px;
        padding-bottom: 10px; /* Add some bottom padding */
    }

    .nav-list.active {
        display: flex; /* Show nav list when active */
    }

    .nav-list li {
        margin: 10px 0; /* Space between list items */
        width: 100%; /* Full width for list items */
    }

    .nav-list a {
        font-size: 1.1rem;
        padding: 12px 0; /* Adjust padding for mobile links */
        display: block; /* Make links block level for better touch area */
        width: 100%; /* Make link take full width of li */
    }

    .nav-list a:hover {
        background-color: #a01616; /* Mobile hover color */
    }

    /* Hide dropdowns on mobile to simplify menu, or style them for mobile */
    .nav-list .dropdown-menu {
        position: static; /* Remove absolute positioning */
        background-color: transparent; /* No background for sub-menu */
        box-shadow: none;
        width: auto;
        padding: 0;
        margin-top: 5px;
        display: none; /* Keep hidden, will require JS to toggle for mobile dropdowns */
    }

    .nav-list .dropdown-menu li a {
        padding: 8px 16px; /* Adjust padding for dropdown items */
        font-size: 1rem;
        background-color: rgba(255, 255, 255, 0.1); /* Slight background for sub-items */
    }
    .nav-list .dropdown-menu li a:hover {
        background-color: rgba(255, 255, 255, 0.2);
    }

    .hamburger-menu.active .bar:nth-child(1) {
        transform: translateY(7px) rotate(45deg);
    }

    .hamburger-menu.active .bar:nth-child(2) {
        opacity: 0;
    }

    .hamburger-menu.active .bar:nth-child(3) {
        transform: translateY(-7px) rotate(-45deg);
    }
}
/* #endregion */
/* = = = = = [End] N A V I G A T I O N = = = = = */



/* - - - - - [Start] H E A D E R Product - - - - - */
/* #region */
.ps-product-custom-header {
    background: linear-gradient(to right, #d70000, #5a0000);
    width: 100%;
    margin: 0;
    padding: 1px;
}
.ps-product-header-top {
    text-align: center;
    padding: 20px 0;
}
.ps-product-header-top .ps-product-lci {
    font-size: 3rem;
    color: #ffffff;
    filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.5));
    margin: 0;
}
.ps-product-header-top .ps-product-brand {
    font-size: 2rem;
    color: #ffffff;
    filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.5));
    margin: 0;
}
.ps-product-header-banner {
    position: relative;
    width: 100%;
    height: 50vh; 
    overflow: hidden;
}
.ps-product-header-banner img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}
.ps-product-header-banner .ps-product-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4); 
    z-index: 1;
}
/* #endregion */
/* = = = = = [End] H E A D E R Product = = = = = */



/* - - - - - [Start] P R O D U C T B O X - - - - - */
/* #region */


/* product section width area */
/* #region */
.pro-s-product-showcase {
  padding: 40px 5%;
  background-color: #f4f4f4;
}
.pro-s-full-width {
  width: 100%;
}
.info-button {
    background-color:transparent; 
    color: rgb(247, 0, 0);
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 8px; 
    transition: background-color 0.3s ease;
}
.info-button:hover {
    background-color:transparent;
}
.info-button i {
    font-size: 1.3rem;
}


/* how to use website */
.pro-s-how-to-use-search {
  color: rgb(233, 0, 0);
  font-size: 1rem;
}
.pro-s-hidden {
  display: none;
}


/* main box */
.product-all-con {
  display: flex;
  flex-direction: row;
  gap: 1.5rem;
  position: relative;
}


/* advance filter box */
.pro-s-adv-filters-box {
  width: 250px;
  flex-shrink: 0;
}
.pro-s-adv-container {
  margin-top: 50px;
  background-color: #f7f7f7;
  border-radius: 12px;
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
  padding: 10px;
}

/* กล่องแสดงสินค้า */
.ps-product-container {
  flex: 1;
  min-width: 0;
}

/* #endregion */



/* search bar filter - mobile */
/* #region */

.mobile-pro-s-filter-bar {
  display: block;
}
.mobile-pro-s-filter-bar {
        display: flex;
        flex-wrap: wrap; 
        gap: 15px; 
        margin: 50px auto; 
        max-width: 1200px; 
        padding: 0 20px; 
        align-items: center; 
        box-sizing: border-box; 
    }
    .mobile-psfb-title {
        color: #ffffff;
    }
    .mobile-pro-s-filter-bar .mobile-search-input-wrapper {
        display: flex;
        align-items: center;
        flex-grow: 2; 
        min-width: 250px; 
        position: relative; 
    }

    .mobile-pro-s-filter-bar .mobile-search-input-wrapper .search-icon {
        position: absolute;
        left: 15px;
        color: #888;
        font-size: 1.1rem;
    }

    .mobile-pro-s-filter-bar input[type="text"] {
        padding: 10px 15px 10px 40px; /* Adjust padding for icon */
        font-size: 16px;
        border-radius: 25px;
        border: 1px solid #ccc;
        width: 100%; /* Take full width of its wrapper */
        box-sizing: border-box;
        transition: border-color 0.3s, box-shadow 0.3s;
    }

    .mobile-pro-s-filter-bar input[type="text"]:focus {
        border-color: #e50000;
        box-shadow: 0 0 0 3px rgba(255, 0, 0, 0.2);
        outline: none;
    }

    .mobile-pro-s-filter-bar .mobile-location-filters-wrapper {
        display: flex;
        gap: 10px;
        flex-grow: 1; /* Allow location filters to grow */
    }

    .mobile-pro-s-filter-bar select {
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-color: #fff;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 10px 40px 10px 16px;
        font-size: 16px;
        color: #333;
        outline: none;
        transition: border-color 0.3s, box-shadow 0.3s;
        position: relative;
        background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20width%3D'12'%20height%3D'12'%20viewBox%3D'0%200%2024%2024'%20fill%3D'none'%20stroke%3D'%23333'%20stroke-width%3D'2'%20stroke-linecap%3D'round'%20stroke-linejoin%3D'round'%3E%3Cpolyline%20points%3D'6%209%2012%2015%2018%209'%20/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 12px center;
        background-size: 16px;
        flex-grow: 1; /* Allow each select to grow */
        min-width: 150px; /* Minimum width for each select */
        box-sizing: border-box;
    }
    .mobile-pro-s-filter-bar select:focus {
        border-color: #e50000;
        box-shadow: 0 0 0 3px rgba(255, 0, 0, 0.2);
    }
    .mobile-pro-s-filter-bar select:disabled {
        background-color: #f5f5f5;
        color: #999;
        cursor: not-allowed;
    }

    .mobile-pro-s-filter-bar .mobile-search-button-wrapper {
        flex-shrink: 0; /* Prevent button from shrinking */
    }

    .mobile-pro-s-filter-bar button {
        background-color: #d60000;
        width: auto; /* Auto width based on content */
        padding: 10px 20px; /* Adjusted padding */
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 8px;
        font-size: 16px;
        transition: background 0.3s;
        display: flex; /* Use flex to align icon and text */
        align-items: center;
        gap: 8px; /* Space between icon and text */
    }
    .mobile-pro-s-filter-bar button:hover {
        background-color: #a10000;
    }
/* #endregion */



/* type filter products */
/* #region */
.pro-s-product-type-selector {
  margin-bottom: 30px;
}
.pro-s-product-type-selector h3 {
  font-size: 1.2rem;
  margin-bottom: 0.5rem;
  color: #333;
}
.pro-s-product-type-tabs {
  list-style: none;
  display: flex;
  gap: 1rem;
  padding: 0;
}
.pro-s-pd-type {
  padding: 0.6rem 1.5rem;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 500;
  background-color: #e9e9e9;
  color: #b19797;
  transition: all 0.3s ease;
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
}
.pro-s-pd-type.active {
  background-color: #db0000;
  color: #fbfbfb;
  width: auto;
}
.pro-s-pd-type:hover {
  background-color: #ffffff;
  color: #db0000;
}
/* #endregion */



/* Product cards desktop */
/* #region */
.p-c-product-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: flex-start;
    box-sizing: border-box; 
}
.p-c-product-card {
    padding-top: 15px;
    width: 280px;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    overflow: hidden;
    background: #fff;
    flex-shrink: 0; 
    flex-grow: 1; 
    max-width: calc(33.333% - 14px); 
    box-sizing: border-box;
}
.p-c-product-card img {
    width: 100%;
    height: auto; 
    object-fit: cover;
    object-position: center; 
}
.p-c-product-info {
    padding: 16px;
    display: flex;
    flex-direction: column;
}
.pcpi-box {
    display: flex;
    flex-direction: column;
    align-items: center;
}
.p-c-product-title p {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 5px;
    color: #292929;
    text-align: center;
}
.pcpd-box {
    display: flex;
    flex-direction: column;
    align-items: center;
}
.p-c-product-detail p {
    color: #555;
    font-size: 15px;  
    margin-bottom: 8px;
}
.p-c-product-detail p:first-child {
    margin-top: 0;
}
.p-c-product-detail p:last-child {
    margin-bottom: 0;
}
.m-p-c-product-price {
  display: none;
}
.p-c-product-price {
    display: flex;
    flex-direction: column;
    align-items: center;
}
.p-c-product-price, #priceVisibilityClass {
    color: #000;
    font-size: 45px;
}
.p-c-product-price span {
    font-size: 25px;
    font-weight: 500;
    color: red;
}
.p-c-product-price p {
    margin-bottom: 0.25em; 
}
.p-c-product-price p:first-child {
    margin-top: 0;
}
.p-c-product-price p:last-child {
    margin-bottom: 0;
}
.m-p-c-product-price p {
    margin-bottom: 0.25em; 
}
.m-p-c-product-price p:first-child {
    margin-top: 0;
}
.m-p-c-product-price p:last-child {
    margin-bottom: 0;
}
.hide-na-price-text strong {
    color: transparent; 
}
.p-c-product-value p {
    font-size: 10px;
}

.p-c-product-location {
    font-size: 1rem;
    color: #b1b1b1;
    margin-bottom: 10px;
}
.m-p-c-product-area {
  display: none;
}
.p-c-add-cart-btn {
    background: linear-gradient(to right, #d70000, #8f0000);
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.2s;
    width: 100%;
    box-sizing: border-box;
}
.p-c-buy-btn {
    background: linear-gradient(to right, #ffdfbc, #fac285 , #ffa600);
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.2s;
    width: 100%;
    box-sizing: border-box;
}
.p-c-buy-btn:hover {
  transform: scale(1.05);    
}
.p-c-add-cart-btn:hover {
  transform: scale(1.05);    
}
.p-c-note {
    text-align: center;
    color: #888888;
}
/* #endregion */




/* desktop cart product area */
/* #region */
.cart-section-container {
  width: 600px;
  background: #fdfdfd;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  transform: translateX(100%);
  transition: transform 0.3s ease-in-out;
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.20);
  z-index: 4;
  display: flex;
  flex-direction: column;
}
.cart-section-container.show {
  transform: translateX(0);
}
.product-cart-tab {
  display: contents;
}
.p-cart-title {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  font-size: 1.4rem;
  font-weight: bold;
  background: linear-gradient(to right, #ff1313,#ff1313, #8f0000);
  color: white;
  border-bottom: 1px solid #ddd;
  flex-shrink: 0;
  position: sticky;
  top: 0;
  z-index: 5;
}
.p-cart-title button {
  font-size: 1.2rem;
  background: none;
  border: none;
  cursor: pointer;
  color: #ffffff;
}
.products-carts-container {
  flex: 1;
  padding: 20px;
  overflow-y: auto; 
  -webkit-overflow-scrolling: touch; 
}

/* --- Card item layout --- */
.cart-item {
    padding: 15px;
    border-radius: 10px;
    background-color: #ffffff;
    margin-bottom: 15px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    border-left: 5px solid #e74c3c; /* เพิ่มเส้นสีแดงด้านซ้ายเพื่อความโดดเด่น */
}
.cart-item-horizontal {
    display: flex;
    flex-direction: column;
    align-items: left;
    gap: 15px;
}
.cart-item-horizontal-box {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
}
.cart-item-horizontal-box-item {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    gap: 1rem;
}
.cart-img {
    flex-shrink: 0;
}
.cart-img img {
    width: 80px;
    height: 80px;
    object-fit: contain;
    border-radius: 8px;
}
.cart-info {
    flex-grow: 1;
}
.cart-name {
    font-size: 1.2em;
    font-weight: 600;
    color: #333;
    margin-bottom: 5px;
}
.cart-price {
    font-size: 1em;
    color: #555;
    margin-bottom: 10px;
}

/* --- Qty Control Styling --- */
.qty-control {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 10px;
}
.qty-control button {
    width: 35px;
    height: 35px;
    background-color: transparent;
    border: 1px solid red;
    color: rgb(52, 52, 52);
    border: none;
    border-radius: 5px;
    font-size: 1.5em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s ease;
}
.qty-control button:hover {
    background-color: #c0392b;
    color: white;
}
.truck-quantity-display {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    background-color: #f5f5f5;
    border-radius: 5px;
    font-size: 1em;
    font-weight: 600;
    color: #4e4e4e;
}

.truck-quantity-display .truck-icon {
    color: #e74c3c;
    margin-right: 8px;
}

.bag-count {
    font-size: 1em;
    color: #777;
    margin: 0 0 0 10px;
    white-space: nowrap;
}

/* --- Remove Button --- */
.cart-remove button {
    background: rgb(194, 0, 0);
    border: 1px solid #ccc;
    color: #f6f6f6;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 0.9em;
    cursor: pointer;
    transition: all 0.2s ease;
    max-width: 100%;
    height: 100%;
}

.cart-remove button:hover {
    background-color: #f7f7f7;
    color: #e74c3c;
    border-color: #e74c3c;
}


.cart-total-info {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 20px;
    padding: 10px 0;
    border-bottom: 1px dashed #eee; 
}
.cart-total-info p {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 1.1rem;
    color: #333;
    margin: 0; 
}

.cart-total-info p span {
    font-weight: 600;
    color: #000; 
    font-size: 1.15rem; 
}

.cart-total-info p.final-total {
    font-size: 1.3rem; 
    font-weight: bold;
    color: var(--danger-color, #e53935); 
    padding-top: 10px;
    border-top: 1px solid #ccc; 
    margin-top: 10px;
}

.cart-total-info p.final-total span {
    font-size: 1.4rem; 
    color: var(--danger-color, #e53935); 
}

.primary-checkout-btn {
    background: linear-gradient(to right, #d70000, #8f0000); 
    color: white;
    border: none;
    padding: 12px 15px;
    border-radius: 8px;
    width: 100%;
    font-size: 1.1rem;
    cursor: pointer;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}
.primary-checkout-btn:hover {
    background: #a10000; 
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}
.primary-checkout-btn i {
    font-size: 1.2em;
}




.empty-cart-state {
    text-align: center;
    padding: 40px 20px;
    color: #888;
    font-size: 1.1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%; 
}
.empty-cart-state p {
    margin-bottom: 20px;
}
.empty-cart-state .back-to-shop-btn {
    background-color: #cf0000;
    color: white;
    padding: 10px 20px;
    border-radius: 5px;
    text-decoration: none;
    font-weight: bold;
    transition: background-color 0.3s ease;
}
.empty-cart-state .back-to-shop-btn:hover {
  background-color: #a10000;
}
.p-cart-result {
    padding: 20px;
    border-top: 1px solid #ddd;
    background: #fafafa;
    flex-shrink: 0;
    position: sticky;
    bottom: 0;
    z-index: 5;
    border-radius: 0 0 15px 15px; 
    box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);
}
.pcr-box {
    margin-bottom: 100px;
}
.p-cart-result p {
  font-size: 1.1rem;
  margin-bottom: 15px;
  display: flex; 
  justify-content: space-between;
}
.p-cart-result p strong {
  color: var(--danger-color, #e53935); 
  font-size: 1.2rem;
}
.p-cart-result button {
  background: linear-gradient(to right, #d70000, #8f0000);
  color: white;
  border: none;
  padding: 10px;
  border-radius: 8px;
  width: 100%;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}
.p-cart-result button:hover {
  background-color: #a10000;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

.mobile-cart-btn {
  display: none;
}


/* #endregion */




/* popup product detail  */
/* #region */
.mobile-popup-close {
  display: none;
}
body.no-scroll {
    overflow: hidden; 
}
.popup-product-detail {
  position: fixed;
  top: 0; 
  left: 0;
  width: 100vw; 
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(0,0,0,0.8);
  padding: 20px;
  overflow-y: auto; 
  z-index: 5;
}
.popup-box-show {
  background: white;
  border-radius: 16px;
  max-width: 1200px; 
  width: 100%;
  padding: 24px;
  position: relative;
  display: flex;
  flex-direction: row;
  gap: 2rem;
  max-height: 90vh;
  overflow-y: auto;  
  overflow-x: hidden; 
}
/* close button  */
.popup-close {
  position: relative;
}
.popup-close-btn {
  font-size: 3rem;
  background: none;
  border: none;
  cursor: pointer;
  color: #e70000;
  transition: color 0.3s;
}
.popup-close-btn:hover {
  color: #000000;
}



/* left box area >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> */
.popup-left {
  flex: 1.3;
  min-width: 300px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}
/* image box */
.popup-left-boximg {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  background: #fff;
  padding: 23px;
  border-radius: 16px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}
#mainPopupImg {
  background-color: transparent;
  width: 100%;
  max-height: 400px;
  border-radius: 12px;
  object-fit: contain;
}
.popup-thumbnails {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  max-width: 100%;
  padding-bottom: 5px;
}
.popup-thumbnails img {
  width: 70px;
  height: 70px;
  object-fit: cover;
  border-radius: 8px;
  cursor: pointer;
  border: 2px solid transparent;
  transition: border-color 0.3s;
}
.popup-thumbnails img:hover {
  border-color: #d60000;
}
.popup-left-box {
  width: 100%;
}
.popup-left-box-con {
  display: flex;
  flex-direction: column;
  background-color: #f8f8f8;
  border-radius: 16px;
  gap: 1rem;
}
/* standard box */
.p-l-b-standard {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  background: #fff;
  padding: 23px;
  border-radius: 16px;
  /* box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); */
}
.p-l-b-details {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  background: #fff;
  padding: 23px;
  border-radius: 16px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}
.p-l-b-s-title p {
  font-size: 18px;
  font-weight: 600;
}
.p-l-b-s-title hr {
  border: 0.5px solid #d3d3d3;
}
.plbs-con {
  display: flex;
  flex-direction: row;
  gap: 2rem;
}
.plbs-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow: hidden;
  transition: all 0.4s ease;
  padding-right: 0;
  cursor: pointer;
  padding-left: 8px;
}
.plbs-box img {
  width: 70px;
  height: auto;
  display: block;
}
/* strength box */
.p-l-b-strength {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  background: #fff;
  padding: 23px;
  border-radius: 16px;
  /* box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); */
}



/* right box area >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> */
.popup-right {
  flex: 1;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  background: #fff;
  padding: 23px;
  border-radius: 16px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}
.popup-right-price {
  padding: 0px 25px;
}
.popup-right-price-r{
  font-size: 25px;
}
.option-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 20px;
}
.option-group label {
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 10px;
}
.custom-qty-input {
  padding: 8px;
  border-radius: 6px;
  border: 1px solid #ccc;
  width: 100%;
}
.stepper {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.stepper-controls {
  display: flex;
  align-items: center;
  gap: 10px;
}
.stepper-controls input[type="number"] {
  width: 80px;
  padding: 6px;
  border-radius: 6px;
  border: 1px solid #ccc;
  text-align: center;
}
.stepper-controls button {
  width: 32px;
  height: 32px;
  font-size: 18px;
  border: none;
  background-color: #eee;
  border-radius: 6px;
  cursor: pointer;
}
.note {
  font-size: 0.9rem;
  color: #555;
}

.popup-action-buttons {
  display: flex;
  gap: 15px;
  margin-top: 20px;
}
.popup-action-buttons button {
  flex: 1;
  padding: 12px;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: background-color 0.3s;
  min-width: 120px;
}

.popup-add-cart-btn {
  background: linear-gradient(to right, #ffca91, #fac285 , #ffa600);
  color: white;
}
.popup-add-cart-btn:hover {
  background-color: #e57c00;
}
.popup-buy-now-btn {
  background: linear-gradient(to right, #d70000, #8f0000);
  color: white;
}
.popup-buy-now-btn:hover {
  background-color: #c62828;
}

.hidden { display: none; }


/* --- Styles for Image Zoom Popup --- */
.image-zoom-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8); 
    display: flex; 
    justify-content: center;
    align-items: center;
    z-index: 10000; 
    visibility: hidden;
    opacity: 0; 
    transition: visibility 0s, opacity 0.3s ease; 
}
.image-zoom-popup.is-visible {
    visibility: visible;
    opacity: 1;
}
.image-zoom-content {
    position: relative;
    max-width: 90%; 
    max-height: 90%; 
    background-color: #fff; 
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    display: flex;
    justify-content: center;
    align-items: center;
}
.zoomed-image {
    max-width: 100%;
    max-height: 80vh; 
    display: block;
    object-fit: contain; 
}
.image-zoom-close-button {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 30px;
    color: #333;
    cursor: pointer;
    background: none;
    border: none;
    padding: 0;
    line-height: 1;
    z-index: 10001;
}
.image-zoom-close-button:hover {
    color: #ff0000;
}
body.no-scroll {
    overflow: hidden;
}

/* #endregion */

/* = = = = = [End] P R O D U C T B O X = = = = = */



/* - - - - - [Start] H O W T O B U Y  - - - - - */
/* #region */

/* ========== CONTENT SECTION ========== */
        .how-to-buys-con {
            flex-wrap: wrap;
            width: 100%;
            min-height: 400px;
        }
        .how-to-order-container {
            width: 100%;
            margin: 30px auto 0;
            text-align: center;
            padding: 3%;
            color: #333;
            background: linear-gradient(180deg, #ed1b24, #6b0005);
            overflow-x: hidden;
        }

        .how-to-order-container h2 {
            color: #ffffff;
            font-size: 2rem;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 5px;
            letter-spacing: 1px;
        }

        .how-to-order-container h3 {
            font-size: 26px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #fff;
        }


        /* ========== STEP GRID ========== */
        .how-to-order-steps-grid {
            /* display: grid;
            grid-template-columns: 1fr;
            gap: 20px; */

            display: flex;
            flex-direction: row;
            gap: 20px;
            flex-wrap: wrap;
            justify-items: center;
            justify-content: center;
        }

        .how-to-order-step-card {
            background: white;
            border-radius: 16px;
            padding: 24px 20px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
            position: relative;
            text-align: left;
            transition: 0.3s ease;
            overflow-wrap: break-word;
            width: 400px;
        }

        .how-to-order-step-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .how-to-order-step-icon {
            font-size: 32px;
            color: #f44336;
            margin-bottom: 20px;
        }

        .how-to-order-step-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .how-to-order-step-desc {
            font-size: 15px;
            color: #555;
            line-height: 1.6;
        }

        .how-to-order-step-number {
            font-size: 60px;
            font-weight: 900;
            color: rgba(244, 67, 54, 0.307);
            position: absolute;
            top: 10px;
            right: 20px;
        }

        .how-to-order-step-wrapper {
            position: relative;
        }
/* #endregion */
/* = = = = = [End] H O W T O B U Y = = = = = */



/* ====== [Start] F O O T E R SECTION ============ */
/* #region */
.footer {
  width: 100%;
  position: relative;
  background: linear-gradient(135deg, #8B0000, #d71e1e);
  color: white;
  overflow: hidden;
  padding-top: 60px;
}
.footer-pattern {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100px;
  z-index: 0;
  opacity: 0.3;
}
.footer-overlay {
  position: relative;
  z-index: 1;
  padding: 2rem 1.5rem;
}
.footer-content {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

@media (min-width: 768px) {
  .footer-content {
    flex-direction: row;
    justify-content: space-between;
    align-items: flex-start;
  }
}

.footer-section {
  flex: 1;
  min-width: 220px;
  padding: 35px;
}
.footer-brand img.footer-logo-img {
  width: 80px;
  margin-bottom: 1rem;
}
.footer-brand h2 {
  font-size: 1.8rem;
  margin: 0 0 0.5rem;
}
.footer-section h3 {
  font-size: 1.2rem;
  margin-bottom: 10px;
}
.footer p, .footer li {
  margin-bottom: 6px;
  font-size: 0.95rem;
}
.footer ul {
  list-style: none;
  padding: 0;
}
.footer a {
  color: #fff;
  text-decoration: none;
  transition: color 0.3s;
}
.footer a:hover {
  color: #ffe6e6;
}
.footer-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-top: 1rem;
}
.footer-btn {
  padding: 0.6rem 1.2rem;
  background: white;
  color: #a30000;
  border-radius: 10px;
  font-weight: bold;
  text-decoration: none;
  transition: background 0.3s ease, transform 0.2s ease;
}
.footer-btn:hover {
  background: #ffe5e5;
  transform: scale(1.05);
}
.footer-btn.line {
  background: #06c755;
  color: white;
}
.footer-map iframe {
  width: 100%;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
}
.footer-bottom {
  text-align: center;
  background-color: rgba(0, 0, 0, 0.2);
  padding: 20px;
  font-size: 0.9rem;
  opacity: 0.8;
}

/* #endregion */
/* = = = = = [End] F O O T E R SECTION = = = = = */





/* Mobile responsive (<= 480px) */
@media (max-width: 480px) {

    .mobile-view {
        display: block;
        width: 100%;
    }

    .above-content {
        display: none;
    }
    .nav-lci-above-group1 {
        display: block;
    }
    .formobile {
        display: block;
    }

    .m-ps-main-header {
        display: block;
    }

    .ps-product-custom-header {
      height: auto;
      padding: 1px;
    }

    /* ps-main-header for mobile */
    .ps-main-header {
        display: none;
    }
    .headerformobile {
        display: block;
    }

    .ps-header-mobile {
        display: block;
        position: relative;
        color: #fff;
        overflow: hidden;
        width: 100%;
        height: 100%;
    }

    .to-heaven-btn {
        right: 12px;
        bottom: 12px;
    }

    .swiper-container {
        height: 100%;
    }
    .ps-banner-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        filter: brightness(0.7);
        display: block;
    }
    .ps-header-mobile .ps-banner-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.4);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 0 5%;
        box-sizing: border-box;
        z-index: 3;
        color: white;
    }
    .ps-header-mobile .ps-title {
        font-size: 1.8rem;
        margin-bottom: 0.5rem;
        text-shadow: 2px 2px 4px #000;
    }
    .ps-header-mobile .ps-subtitle {
        font-size: 1rem;
        margin-bottom: 1.5rem;
        color: white;
    }
    .ps-header-mobile .ps-btn-group {
        flex-direction: column;
        gap: 0.5rem;
        justify-content: center;
    }
    .wave-mobile svg {
        display: block;
        width: 100%;
        height: 80px;
    }
    .wave-mobile {
        display: block;
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        overflow: hidden;
        line-height: 0;
        z-index: 2;
    }
    .header-section-red-line {
        display: none;
    }
    .header-title-page-title h1 {
        font-size: 25px;
    }

    /* --- */





    /* about */
    .home-about-section {
        display: none;
    }
    .forMobile {
        display: block;
    }
    .headerformobile {
        display: block;
    }

    .m-home-about-section {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        padding: 15px;
    }
    .m-about-detail {
        align-items: center;
        justify-items: center;
    }
    .m-about-detail a{
        align-items: center;
        justify-items: center;
    }

    /* --- */




    /* product */
    .home-product-showcase {
        padding: 20px 15px;
    }

    .home-product-container {
        padding: 0;
    }

    .home-section-title {
        font-size: 2rem;
        margin-bottom: 20px;
    }

    .home-product-grid {
        grid-template-columns: 1fr 1fr; /* 2 items per row */
        gap: 15px;
    }

    .home-product-card {
        width: 100%;
        max-width: unset;
        margin: 0;
        padding: 10px;
    }

    .home-product-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        justify-items: center;
    }

    .home-product-info {
        padding: 8px;
    }

    .home-product-title {
        font-size: 1.1rem;
    }

    .home-product-detail,
    .home-product-unit,
    .home-product-location {
        font-size: 0.8rem;
    }

    .home-buy-btn {
        padding: 0.5rem 1rem;
        font-size: 0.8rem;
    }

    .home-product-popup-detail {
        padding: 15px;
    }

    .hppd-box {
        width: 95%;
        max-width: 90vw;
        margin: 20px auto;
    }

    .hppd-close-button {
        font-size: 2rem;
        top: 5px;
        right: 10px;
    }

    .hppd-content {
        flex-direction: column;
        gap: 15px;
    }

    .hppd-con-box {
        flex-direction: column;
    }

    .hppd-image-section {
        width: 100%;
        padding-right: 0;
        border-right: none;
        margin-bottom: 15px;
        padding: 15px;
    }

    .hppd-main-image-container {
        height: 250px;
    }

    .hppd-main-image {
        max-height: 250px;
        left: 0;
    }

    .hppd-thumbnail-container {
        justify-content: center;
        margin-top: 10px;
    }

    .hppd-thumbnail-container img {
        width: 60px;
        height: 60px;
    }

    .hppd-info-box {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        width: 100%;
        padding: 15px;
        box-sizing: border-box;
    }

    .info-item {
        flex-direction: column;
        align-items: flex-start;
    }

    .info-label {
        font-size: 0.85rem;
    }

    .info-value {
        font-size: 0.9rem;
    }

    .hppd-details-section {
        width: 100%;
        padding-left: 0;
    }

    .product-title {
        font-size: 1.8rem;
        text-align: center;
        margin-bottom: 10px;
    }

    .product-description-text,
    .detail-text,
    .feature-list li {
        font-size: 0.95rem;
        line-height: 1.5;
    }

    .box-title {
        font-size: 1.2rem;
        margin-top: 15px;
        margin-bottom: 8px;
    }

    .standard-icons img {
        width: 40px;
        height: 40px;
        margin-right: 8px;
    }

    /* --- Global Popup Styles for Mobile (รวม home-product-popup-detail และ image-zoom-popup) --- */
    body.no-scroll {
        overflow: hidden;
    }

    .home-product-popup-detail,
    .image-zoom-popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: rgba(0,0,0,0.7);
        padding: 10px;
        z-index: 10000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.0s ease 0.3s;
    }

    .home-product-popup-detail.is-visible,
    .image-zoom-popup.is-visible {
        opacity: 1;
        visibility: visible;
        transition: opacity 0.3s ease, visibility 0s ease 0s;
    }

    /* Style for Image Zoom Popup specific */
    .image-zoom-content {
        width: 95%;
        max-width: 90vw;
        max-height: 90vh;
        background-color: #fff;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .zoomed-image {
        max-width: 100%;
        max-height: 85vh;
        display: block;
        object-fit: contain;
    }
    .image-zoom-close-button {
        font-size: 2rem;
        top: 5px;
        right: 10px;
    }

    .pro-s-product-showcase {
        padding: 20px 3%;
    }

    /* Main product layout */
    .product-all-con {
        flex-direction: column;
        gap: 1rem;
    }

    /* Advance filter box (hidden on mobile) */
    .pro-s-adv-filters-box {
        display: none;
    }

    /* Product container takes full width */
    .ps-product-container {
        width: 100%;
    }




    
    /* Search bar filter */

    .mobile-pro-s-filter-bar {
        display: flex;
        flex-wrap: wrap; 
        gap: 15px; 
        margin: 50px auto; 
        max-width: 1200px; 
        padding: 0 20px; 
        align-items: center; 
        box-sizing: border-box; 
    }
    .mobile-pro-s-filter-bar .mobile-search-input-wrapper {
        display: flex;
        align-items: center;
        flex-grow: 2; 
        min-width: 250px; 
        position: relative; 
    }
    .mobile-pro-s-filter-bar .mobile-search-input-wrapper .search-icon {
        position: absolute;
        left: 15px;
        color: #888;
        font-size: 1.1rem;
    }
    .mobile-pro-s-filter-bar input[type="text"] {
        padding: 10px 15px 10px 40px; /* Adjust padding for icon */
        font-size: 16px;
        border-radius: 25px;
        border: 1px solid #ccc;
        width: 100%; /* Take full width of its wrapper */
        box-sizing: border-box;
        transition: border-color 0.3s, box-shadow 0.3s;
    }
    .mobile-pro-s-filter-bar input[type="text"]:focus {
        border-color: #e50000;
        box-shadow: 0 0 0 3px rgba(255, 0, 0, 0.2);
        outline: none;
    }
    .mobile-pro-s-filter-bar .mobile-location-filters-wrapper {
        display: flex;
        gap: 10px;
        flex-grow: 1; /* Allow location filters to grow */
    }
    .mobile-pro-s-filter-bar select {
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-color: #fff;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 10px 40px 10px 16px;
        font-size: 16px;
        color: #333;
        outline: none;
        transition: border-color 0.3s, box-shadow 0.3s;
        position: relative;
        background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20width%3D'12'%20height%3D'12'%20viewBox%3D'0%200%2024%2024'%20fill%3D'none'%20stroke%3D'%23333'%20stroke-width%3D'2'%20stroke-linecap%3D'round'%20stroke-linejoin%3D'round'%3E%3Cpolyline%20points%3D'6%209%2012%2015%2018%209'%20/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 12px center;
        background-size: 16px;
        flex-grow: 1; /* Allow each select to grow */
        min-width: 150px; /* Minimum width for each select */
        box-sizing: border-box;
    }
    .mobile-pro-s-filter-bar select:focus {
        border-color: #e50000;
        box-shadow: 0 0 0 3px rgba(255, 0, 0, 0.2);
    }
    .mobile-pro-s-filter-bar select:disabled {
        background-color: #f5f5f5;
        color: #999;
        cursor: not-allowed;
    }
    .mobile-pro-s-filter-bar .mobile-search-button-wrapper {
        flex-shrink: 0; /* Prevent button from shrinking */
    }
    .mobile-pro-s-filter-bar button {
        background-color: #d60000;
        width: auto; /* Auto width based on content */
        padding: 10px 20px; /* Adjusted padding */
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 8px;
        font-size: 16px;
        transition: background 0.3s;
        display: flex; /* Use flex to align icon and text */
        align-items: center;
        gap: 8px; /* Space between icon and text */
    }
    .mobile-pro-s-filter-bar button:hover {
        background-color: #a10000;
    }

    .mobile-pro-s-filter-bar {
      display: block;
        flex-direction: column; 
        align-items: stretch;
        margin-left: 0;
        margin-right: 0;
        margin-top: 20px; 
        margin-bottom: 20px; 
        padding: 0 5%;
        box-sizing: border-box; 
    }
    .mobile-psfb-title {
        display: block; 
        text-align: center;
        margin-bottom: 15px;
        font-size: 1.5rem;
        color: #ffffff;
        width: 100%;
    }
    .mobile-pro-s-filter-bar .mobile-search-input-wrapper {
        width: 100%; /* Search input takes full width */
        margin-bottom: 10px; /* Space below search input */
    }
    .mobile-pro-s-filter-bar input[type="text"] {
        width: 100%; /* Full width for input */
        min-width: unset;
        font-size: 14px;
    }
    .mobile-pro-s-filter-bar .mobile-location-filters-wrapper {
        display: flex;
        flex-direction: column;
        gap: 0;
        width: 100%; 
        margin-bottom: 10px; 
    }
    .mobile-pro-s-filter-bar .mobile-location-filters-wrapper select {
        width: 100%; 
        margin-bottom: 10px; 
        font-size: 14px;
        box-sizing: border-box;
    }
    .mobile-pro-s-filter-bar .mobile-location-filters-wrapper select:last-child {
        margin-bottom: 0; /* ไม่ต้องมี margin ด้านล่างสำหรับตัวสุดท้าย */
    }

    .mobile-pro-s-filter-bar .search-button-wrapper {
        width: 100%; /* Button takes full width */
    }
    .mobile-pro-s-filter-bar button {
        margin-top: 0; 
        width: 100%; 
    }





    /* Product type tabs */
    .pro-s-product-type-tabs {
        justify-content: flex-start;
        overflow-x: auto;
        white-space: nowrap;
        padding-bottom: 10px;
    }
    .pro-s-pd-type {
        font-size: 0.9rem;
        padding: 0.5rem 1rem;
        flex-shrink: 0;
    }

    /* Product cards mobile */
    .p-c-product-grid {
        display: grid; /* เปลี่ยนเป็น grid เพื่อการจัด Layout 2 คอลัมน์ที่แม่นยำ */
        grid-template-columns: 1fr 1fr; /* 2 ชิ้นต่อแถว แบ่งพื้นที่เท่าๆ กัน */
        gap: 10px; /* ลด gap ลงเล็กน้อยเพื่อเพิ่มพื้นที่ให้การ์ด */
        padding: 0 5%; /* รักษา padding ด้านข้าง */
        justify-content: center; /* เผื่อกรณีไม่เต็มแถว */
        align-items: stretch; /* ทำให้การ์ดสูงเท่ากัน */
    }
    .p-c-product-card {
        width: auto; /* ให้ Grid จัดการความกว้างอัตโนมัติ */
        max-width: 100%; /* ไม่ให้เกิน 100% ของพื้นที่ grid cell */
        height: auto;
        /* ลบ flex-shrink, flex-grow ออก เพราะใช้ Grid แล้ว */
        padding-top: 10px; /* ลด padding ด้านบนเล็กน้อย */
        box-sizing: border-box; /* สำคัญมาก: เพื่อรวม padding/border ใน width */
    }
    .p-c-product-card img {
        height: 120px; /* ลดความสูงรูปภาพลงอีกเพื่อประหยัดพื้นที่แนวตั้ง */
        object-fit: cover;
    }
    .p-c-product-info {
        padding: 10px; /* ลด padding ภายใน info box */
    }
    .p-c-product-title p {
        font-size: 14px; /* ลดขนาด font ชื่อสินค้า */
        margin-bottom: 3px; /* ลด margin */
    }
    .p-c-product-detail p {
        font-size: 9px; /* ลดขนาด font รายละเอียด */
        margin-bottom: 5px; /* ลด margin */
    }

    .p-c-product-price {
      display: none;
    }

    .m-p-c-product-price  {
      display: block;
      justify-items: center;
    }
    .m-p-c-product-price, #priceVisibilityClass {
        font-size: 24px; 
    }
    .m-p-c-product-price span {
        font-size: 16px;
        color: red;
    }
    .m-p-c-product-value  {
        font-size: 10px; 
    }
    
    .p-c-product-area {
      display: none;
    }
    .m-p-c-product-area {
      display: block;
    }
    .m-p-c-product-area p {
        font-size: 10px; /
    }

    .p-c-add-cart-btn,
    .p-c-buy-btn {
        padding: 8px 10px; /* ลด padding ปุ่ม */
        font-size: 0.9rem; /* ลดขนาด font ปุ่ม */
    }
    .p-c-note {
        text-align: center;
        color: #888888;
        font-size: 0.7rem;
    }



    /* Cart section */
  .cart-section-container {
    width: 100%;
  }
  .cart-item {
    padding: 10px;
    margin-bottom: 12px;
  }
  .cart-item-horizontal {
    display: flex;
    flex-direction: column;
  }
  .cart-item-horizontal-box {
    flex-direction: row;
    align-items: flex-start;
    gap: 10px;
  }

  .cart-item-horizontal-box-item {
    flex-direction: row;
    align-items: flex-start;
    gap: 10px;
  }

  .cart-img img {
    width: 30px;
    height: 30px;
  }

  .cart-name {
    font-size: 0.8em;
  }

  .cart-price {
    font-size: 0.85em;
  }

  .qty-control {
    gap: 6px;
    margin-top: 6px;
  }

  .qty-control button {
    width: 30px;
    height: 30px;
    font-size: 1.2em;
  }

  .truck-quantity-display {
    font-size: 0.9em;
    padding: 6px 10px;
  }

  .bag-count {
    font-size: 0.9em;
    margin-left: 6px;
  }

  .cart-remove button {
    padding: 4px 8px;
    font-size: 0.85em;
    max-width: 100%;
    height: 100%;
  }

    /* cart btn  */
    .desktop-cart-btn {
      display: none;
    }
    .mobile-cart-btn {
      display: block;
    }






    /* Product Detail Popup */
    .popup-close {
      display: none;
    }
    .mobile-popup-close {
      display: block;
    }
    .popup-product-detail {
        padding: 10px;
    }
    .popup-box-show {
        flex-direction: column;
        max-width: 95%;
        padding: 15px;
        max-height: 95vh;
        gap: 1rem;
    }
    .popup-left, .popup-right {
        min-width: auto;
        width: 100%;
        padding: 15px;
    }
    .popup-close {
        top: 10px;
        right: 10px;
    }
    .popup-close-btn {
        font-size: 2.5rem;
    }
    #mainPopupImg {
        max-height: 250px;
    }
    .popup-thumbnails img {
        width: 60px;
        height: 60px;
    }
    .plbs-con {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
    }
    .plbs-box {
        flex: 1 1 80px;
        max-width: 100px;
        font-size: 0.85rem;
    }
    .plbs-box img {
        width: 60px;
    }
    .popup-action-buttons {
        flex-direction: column;
        gap: 10px;
    }
    .popup-action-buttons button {
        min-width: unset;
        width: 100%;
        font-size: 0.95rem;
        padding: 10px;
    }
    .image-zoom-content {
        max-width: 95%;
        padding: 10px;
    }
    .zoomed-image {
        max-height: 70vh;
    }
    .image-zoom-close-button {
        font-size: 24px;
    }



    .info-button h3 {
        font-size: 18px;
    }
    .info-button i {
        font-size: 18px;
    }
    .close-howto-tips {
        width: 100%;
        display: flex;
        justify-content: center;
    }
    .close-info-button h3 , i{
        font-size: 20px;
    }
}



/* tablet responsive */

@media (min-width: 481px) and (max-width: 1024px) {

    /* above */
    .above-content {
        display: none;
    }
    .lci-above-group1 {
        padding-left: 0;
        margin-bottom: 10px;
    }
    .lci-above-group2 {
        display: none;
    }

    .detailLCI {
        flex-direction: column;
        gap: 0.5rem;
    }

    .telLCI,
    .socialLCI {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        padding-left: 0;
        gap: 10px;
    }

    .LCIlocatation {
        padding-left: 0;
    }

    .lcilocate {
        flex-direction: column;
        gap: 5px;
    }

    .lcilocate h5 {
        margin-bottom: 0;
    }

    .lcilocate a.gps-button {
        margin-left: 0;
    }

    .nav-lci-above-group1 {
        display: block;
    }

    .pshta-tablet-view {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: rgba(0, 0, 0, 0.5);
    }
    .ps-main-header {
        width: 100%;
        position: relative;
        overflow: hidden;
        box-shadow: 0 0 40px rgba(0, 0, 0, 0.4);
        padding-top: 0;
        height: 30vh;
    }
    .ps-header-title-area {
        background: linear-gradient(to right, rgba(215, 0, 0, 0.7), rgba(90, 0, 0, 0.7));
        position: absolute;
        top: 0;
        left: 0;
        width: 40%;
        height: 100%;
        z-index: 2;
        clip-path: polygon(0 0, 100% 0, 85% 100%, 0 100%);
        padding-right: 55%;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
    }

    .nav-list {
        gap: 15px;
    }

    .nav-list a {
        font-size: 13px;
    }

    .dropdown-menu {
        min-width: auto;
    }

    .wave-tablet {
        display: block;
        z-index: 2;
    }

    .ps-main-header {
        height: 70vh;
        padding-top: 0;
    }

    .swiper-container {
        height: 100%;
    }

    .ps-header-tablet {
        display: block;
        position: relative;
        color: #fff;
        overflow: hidden;
        width: 100%;
        height: 100%;
    }

    .ps-header-tablet .ps-banner-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 0 5%;
        box-sizing: border-box;
        z-index: 3;
        color: white;
    }

    .ps-header-tablet .ps-title {
        font-size: 2.5rem;
    }

    .ps-header-tablet .ps-subtitle {
        font-size: 1.1rem;
    }

    .ps-header-tablet .ps-btn-group {
        justify-content: center;
    }

    .pshta-tablet-view .ps-banner-overlay {
        padding-left: 5%;
        padding-right: 5%;
        text-align: center;
    }

    .h-a-container {
        justify-content: center;
    }

    .home-about-text-box {
        margin: 0 auto;
    }

    .news-cards {
        gap: 8px;
        padding-left: 0;
        justify-content: center;
    }

    .home-contact-con {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .home-c-detail,
    .home-c-block {
        max-width: 80% !important;
        width: 100%;
        margin: 0 auto;
        margin-top: 20px;
    }

    .contact-social-cards {
        justify-content: center;
    }

    .contact-social-card {
        flex: 1 1 45%;
        margin: 10px;
    }














    /* Product cards mobile */
    .p-c-product-grid {
        display: grid; /* เปลี่ยนเป็น grid เพื่อการจัด Layout 2 คอลัมน์ที่แม่นยำ */
        grid-template-columns: 1fr 1fr; /* 2 ชิ้นต่อแถว แบ่งพื้นที่เท่าๆ กัน */
        gap: 10px; /* ลด gap ลงเล็กน้อยเพื่อเพิ่มพื้นที่ให้การ์ด */
        padding: 0 5%; /* รักษา padding ด้านข้าง */
        justify-content: center; /* เผื่อกรณีไม่เต็มแถว */
        align-items: stretch; /* ทำให้การ์ดสูงเท่ากัน */
    }
    .p-c-product-card {
        width: auto; /* ให้ Grid จัดการความกว้างอัตโนมัติ */
        max-width: 100%; /* ไม่ให้เกิน 100% ของพื้นที่ grid cell */
        height: auto;
        /* ลบ flex-shrink, flex-grow ออก เพราะใช้ Grid แล้ว */
        padding-top: 10px; /* ลด padding ด้านบนเล็กน้อย */
        box-sizing: border-box; /* สำคัญมาก: เพื่อรวม padding/border ใน width */
    }
    .p-c-product-card img {
        object-fit: cover;
    }
    .p-c-product-info {
        padding: 10px; /* ลด padding ภายใน info box */
    }
    .p-c-product-title p {
        font-size: 23px; /* ลดขนาด font ชื่อสินค้า */
        margin-bottom: 3px; /* ลด margin */
    }
    .p-c-product-detail p {
        font-size: 16px; /* ลดขนาด font รายละเอียด */
        margin-bottom: 5px; /* ลด margin */
    }

    .p-c-product-price {
      display: none;
    }

    .m-p-c-product-price  {
      display: block;
      justify-items: center;
    }
    .m-p-c-product-price, #priceVisibilityClass {
        font-size: 28px; 
    }
    .m-p-c-product-price span {
        font-size: 26px;
        color: red;
    }
    .m-p-c-product-value  {
        font-size: 18px; 
    }
    
    .p-c-product-area {
      display: none;
    }
    .m-p-c-product-area {
      display: block;
    }
    .m-p-c-product-area p {
        font-size: 16px; /
    }

    .p-c-add-cart-btn,
    .p-c-buy-btn {
        padding: 8px 10px; /* ลด padding ปุ่ม */
        font-size: 0.9rem; /* ลดขนาด font ปุ่ม */
    }












    .footer-content {
        flex-direction: row;
        flex-wrap: wrap;
        gap: 2rem;
        padding: 25px;
    }

    .footer-content>div {
        flex: 1 1 calc(50% - 1rem);
        box-sizing: border-box;
    }

    .footer-section {
        align-items: center;
        justify-content: center;
        justify-items: center;
    }

    .footer-section a {
        font-size: 18px;
    }

    .footer-section p {
        font-size: 16px;
    }
}




/* ============================================================================
============================================================================
============================================================================
============================================================================
============================================================================ */




/* ========== products_detail.html ============= */

/* === Apple Store Style for Product Detail === */
.product-detail-page {
  max-width: 800px;
  margin: 60px auto;
  padding: 30px 20px;
  background-color: #fff;
  border-radius: 20px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
  font-family: 'Kanit', sans-serif;
  text-align: center;
  transition: all 0.3s ease;
}

.product-detail-page img {
  max-width: 100%;
  height: auto;
  border-radius: 20px;
  margin-bottom: 30px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.product-detail-page h1 {
  font-size: 2.2rem;
  font-weight: 600;
  margin-bottom: 15px;
  color: #1d1d1f;
}

.product-detail-page p {
  font-size: 1.1rem;
  color: #444;
  line-height: 1.6;
  margin: 8px 0;
}

.product-detail-page strong {
  color: #000;
}

.product-detail-page button {
  margin-top: 30px;
  padding: 12px 24px;
  background-color: #0071e3;
  color: #fff;
  border: none;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.product-detail-page button:hover {
  background-color: #005bb5;
}

</style>

    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>


</head>
<body>

<!-- base all website -->
<div id="preloader">
  <div class="cement-truck-animation">
    <img src="/assets/icons/lci-truck.gif" alt="">
    <div class="pouring"></div>
    <p>กำลังเทปูน กรุณารอสักครู่...</p>
  </div>
</div>

<!-- desktop view -->
<div class="desktop-product-show">

        <!-- product header -->
        <header class="ps-product-custom-header">
            <div class="ps-product-header-top">
                <h1 class="ps-product-lci">ผลิตภัณฑ์ LCI Thailand</h1>
            </div>

            <!-- Navigation -->
            <div class="NavOfPoonSingtoolayout">
            <nav class="main-nav">
                <div class="nav-header-mobile-wrapper"> 
                    <div class="nav-lci-above-group1">
                        <a href="/">
                            <div class="nav-logoLCI">
                                <div class="nav-img-logoLCI">
                                </div>
                                <div class="nav-titlename-logoLCI">
                                    <h3>LCI-Thailand</h3>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="hamburger-menu">
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                    </div>
                </div>

                <ul class="nav-list">
                    <li><a href="/index.html">หน้าแรก</a></li>
                    <li><a href="/pages/about.html">เกี่ยวกับเรา</a></li>
                    <li><a href="/pages/products/products_showall.html">ผลิตภัณฑ์</a></li>
                    <li><a href="/pages/howtoPays.html">วิธีสั่งซื้อ</a></li>                    
                    <li><a href="/pages/marketing.html">ข่าวสาร</a></li>
                    <li><a href="/pages/contact.html">ติดต่อเรา</a></li>
                </ul>
            </nav>
            </div>

            <!-- mobile search bar -->
            <div class="mobile-pro-s-filter-bar">
                                <!-- Title for mobile, hidden on desktop -->
                                <div class="mobile-psfb-title">
                                    <h3>ค้นหาสินค้า</h3>
                                </div>

                                <!-- Search Input Group -->
                                <div class="mobile-search-input-wrapper">
                                    <i class="fa-solid fa-magnifying-glass search-icon"></i>
                                    <input type="text" id="searchInput" placeholder="ค้นหาชื่อสินค้า...">
                                </div>

                                <!-- Location Filters Group -->
                                <div class="mobile-location-filters-wrapper">
                                    <select id="provinceFilter">
                                        <option value="">เลือกจังหวัด</option>
                                    </select>
                                    <select id="districtFilter" disabled>
                                        <option value="">เลือกอำเภอ</option>
                                    </select>
                                </div>

                                <!-- Search Button Group -->
                                <div class="mobile-search-button-wrapper">
                                    <button onclick="filterProducts()"><i class="fa-solid fa-magnifying-glass"></i> ค้นหา</button>
                                </div>
            </div>
            <!-- ----------------------------- -->
        </header>
        
        <main>
            <!-- Product -->
            <section class="pro-s-product-showcase pro-s-full-width"> 
                <!-- how to use -->
                <div>
                    <div>
                      <button id="toggleTipsBtn" class="info-button">
                        <h3><i class="fas fa-info-circle"></i> กดเพื่ออ่านวิธีการใช้งาน*</h3>
                      </button>
                    </div>
                    <div class="pro-s-how-to-use-search pro-s-hidden">
                        <p style="font-weight: 600;">ขั้นตอน</p>
                        <ul>
                            <li>1. กรอกชื่อสินค้าที่ต้องการ</li>
                            <li>2. เลือกจังหวัด*</li>
                            <li>3. เลือกอำเภอ*</li>
                            <li>4. กดปุ่ม "ค้นหา" เพื่อแสดงข้อมูล</li>
                        </ul>
                        <p style="color: red; font-weight: 500;">(หมายเหตุ * จำเป็น)</p>
                        <!-- how to buys -->
                        <section class="how-to-buys-con">

                            <div class="how-to-order-container">
                                <h2>How to Order</h2>
                                <h3>ขั้นตอนในการสั่งซื้อสินค้า</h3>

                                <div class="how-to-order-steps-grid">
                                    <div class="how-to-order-step-card">
                                        <div class="how-to-order-step-wrapper">
                                            <div class="how-to-order-step-number">1</div>
                                            <i class="fas fa-search how-to-order-step-icon"></i>
                                            <div class="how-to-order-step-title">เลือกสินค้าที่ต้องการ</div>
                                            <div class="how-to-order-step-desc">เลือกชมสินค้าผ่านเว็บไซต์ พร้อมรายละเอียดสินค้า</div>
                                        </div>
                                    </div>

                                    <div class="how-to-order-step-card">
                                        <div class="how-to-order-step-wrapper">
                                            <div class="how-to-order-step-number">2</div>
                                            <i class="fas fa-comments how-to-order-step-icon"></i>
                                            <div class="how-to-order-step-title">เพิ่มสินค้าลงตะกร้า</div>
                                            <div class="how-to-order-step-desc">เพิ่มสินค้าที่ต้องการลงใส่ตะกร้าตามจำนวนที่ต้องการ</div>
                                        </div>
                                    </div>

                                    <div class="how-to-order-step-card">
                                        <div class="how-to-order-step-wrapper">
                                            <div class="how-to-order-step-number">3</div>
                                            <i class="fas fa-file-invoice how-to-order-step-icon"></i>
                                            <div class="how-to-order-step-title">ยืนยันคำสั่งซื้อ</div>
                                            <div class="how-to-order-step-desc">ใส่ที่อยู่จัดส่งและเลือกวิธีการชำระเงิน</div>
                                        </div>
                                    </div>

                                    <div class="how-to-order-step-card">
                                        <div class="how-to-order-step-wrapper">
                                            <div class="how-to-order-step-number">4</div>
                                            <i class="fas fa-credit-card how-to-order-step-icon"></i>
                                            <div class="how-to-order-step-title">ชำระเงิน</div>
                                            <div class="how-to-order-step-desc">โอนเงินเข้าบัญชีที่กำหนด และส่งหลักฐานการโอนให้ทีมงาน</div>
                                        </div>
                                    </div>

                                    <div class="how-to-order-step-card">
                                        <div class="how-to-order-step-wrapper">
                                            <div class="how-to-order-step-number">5</div>
                                            <i class="fas fa-box-open how-to-order-step-icon"></i>
                                            <div class="how-to-order-step-title">เตรียมจัดส่ง</div>
                                            <div class="how-to-order-step-desc">ทีมงานตรวจสอบยอด เตรียมสินค้าอย่างดี</div>
                                        </div>
                                    </div>

                                    <div class="how-to-order-step-card">
                                        <div class="how-to-order-step-wrapper">
                                            <div class="how-to-order-step-number">6</div>
                                            <i class="fas fa-truck-fast how-to-order-step-icon"></i>
                                            <div class="how-to-order-step-title">รอรับสินค้า</div>
                                            <div class="how-to-order-step-desc">จัดส่งสินค้ารวดเร็วถึงหน้าบ้าน</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="close-howto-tips">
                                    <button id="ClosetoggleTipsBtn" class="close-info-button">                                       
                                        <h3><i class="fa-regular fa-circle-xmark"></i> ปิดวิธีการใช้งาน</h3>
                                    </button>
                                </div>                          
                            </div>
                        </section>
                    </div>
                </div>           
                <!-- ----------------------------- -->               
                <!-- product filter buy -->
                <div  class="product-all-con">         
                    <!-- product container -->
                    <div class="ps-product-container">
                      <!-- filter type -->
                      <div class="pro-s-product-type-selector">
                          <h3>ประเภท</h3>
                          <nav>
                              <ul class="pro-s-product-type-tabs">
                                  <li class="pro-s-pd-type active" onclick="switchType(this, 'all')">ทั้งหมด</li>
                                  <li class="pro-s-pd-type" onclick="switchType(this, 'bag')" >แบบถุง</li>
                                  <li class="pro-s-pd-type" onclick="switchType(this, 'truck')">แบบผง</li>
                              </ul>
                          </nav>
                      </div>
                      <!-- ----------------------------- -->
                      <!-- Show product all -->               
                      <div id="productGrid" class="p-c-product-grid">

                      </div>
                      <!-- ----------------------------- -->              
                    </div>                     
                    <div>
                        <!-- Cart Slide-in Container -->
                        <div class="cart-section-container hidden" id="cartSection">
                            <div class="product-cart-tab">

                                <div class="p-cart-title">
                                <h3>รายการสินค้า</h3>
                                <button id="closeCartBtn" class="close-cart">✕</button>
                                </div>

                                <div class="products-carts-container">
                                <div id="cartItems">
                                    <!-- การ์ดสินค้า -->
                                </div>
                                </div>

                                <div class="p-cart-result">
                                    <div class="pcr-box">
                                        <div id="cartSummary">
                                            <!-- รายการสินค้า -->
                                        </div>
                                    </div>                        
                                </div>
                            </div>
                        </div>
                        
                        <!-- Cart button -->
                        <div style="position: fixed; bottom: 20px; right: 20px;  z-index: 5;">
                        <button id="openCartBtn" 
                            style="
                                position: fixed; 
                                bottom: 20px; 
                                right: 20px; 
                                background: linear-gradient(to right, #d70000, #8f0000);
                                color: white; 
                                padding: 15px 20px; 
                                border-radius: 50px; 
                                font-size: 1rem; 
                                border: none; 
                                box-shadow: 0 2px 10px rgba(0,0,0,0.2); 
                                z-index: 999; 
                                cursor: pointer; 
                                position: relative; /* สำหรับให้ span นับสินค้าจัดตำแหน่งได้ */
                                display: flex; /* จัดให้ไอคอนและข้อความอยู่ตรงกลาง */
                                align-items: center;
                                gap: 8px; /* ระยะห่างระหว่างไอคอนและข้อความ */
                            ">
                            <div class="desktop-cart-btn">
                                <i class="fa-solid fa-cart-plus"></i> ดูตะกร้า
                            </div>
                            <div class="mobile-cart-btn">
                                <i class="fa-solid fa-cart-plus"></i> 
                            </div>
                        <span id="cartItemCount" 
                            style="
                                position: absolute; 
                                top: -5px; 
                                right: -5px; 
                                background-color: #ffc107; 
                                color: #333; 
                                border-radius: 50%; 
                                padding: 5px 8px; 
                                font-size: 0.75rem; 
                                font-weight: bold; 
                                display: none; /* ซ่อนไว้ก่อน ถ้าไม่มีสินค้า */
                                min-width: 24px; /* กำหนดความกว้างขั้นต่ำเพื่อไม่ให้เล็กเกินไป */
                                text-align: center; /* จัดตัวเลขให้อยู่ตรงกลาง */
                                box-sizing: border-box; /* ให้ padding ไม่ดันขนาดออกไปนอก */
                            ">0</span>
                        </button>                
                        </div>
                    </div>                              
                </div>               
                <!-- ----------------------------- -->

            </section>
        </main>

        <!-- Footer content -->
        <footer class="footer">
                <svg class="footer-pattern" viewBox="0 0 100 100" preserveAspectRatio="none">
                    <path d="M0,100 Q50,0 100,100 Z" fill="url(#footerGradient)" />
                    <defs>
                    <linearGradient id="footerGradient" x1="0" y1="0" x2="1" y2="1">
                        <stop offset="0%" stop-color="#8B0000" />
                        <stop offset="100%" stop-color="#FF4C4C" />
                    </linearGradient>
                    </defs>
                </svg>

                <!-- Main Footer Content -->
                <div class="footer-overlay">
                    <div class="footer-content">
                        <!-- Company Info -->
                        <div class="footer-section footer-brand">
                            <h2>LCI-Thailand</h2>
                            <p style="color: white;"> “ ผลิตภัณฑ์เรา มีมาตรฐานสากล <br>และได้มาตรฐานอุตสาหกรรมของไทย “</p>
                            <div class="footer-buttons">
                                <a href="tel:093524441" class="footer-btn" style="color: red;">📞 โทรหาเรา</a>
                                <a href="" class="footer-btn line"><i class="fab fa-line"></i> แชท LINE</a>
                            </div>
                        </div>

                        <!-- Navigation Links -->
                        <div class="footer-section">
                            <h3 style="font-size: 1.5rem;">เมนูหลัก</h3>
                            <ul>
                            <li><a href="/">หน้าแรก</a></li>
                            <li><a href="/pages/products/products_showall.html">สินค้า</a></li>
                            <li><a href="/pages/about.html">เกี่ยวกับเรา</a></li>
                            <li><a href="/pages/marketing.html">ข่าวสาร</a></li>
                            <li><a href="/pages/contact.html">ติดต่อเรา</a></li>
                            <li><a href="/pages/howtoPays.html">วิธีการสั่งซื้อและวิธีการชำระเงิน</a></li>
                            </ul>
                        </div>

                        <!-- Map -->
                        <div class="footer-section footer-map">
                            <h3 style="font-size: 1.5rem;">ที่ตั้งสำนักงาน</h3>
                            <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3834.187358726801!2d103.66845000000001!3d16.05516!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3117fdb02f0d92c3%3A0x57e0c7ce40fe7875!2z4Liq4LiH4LmA4LiE4Lij4LiB4Li44LiV4Lin4Li04Liq4Li04Lia4LiHIOC4leC4m-C4o-C4tOC5gOC4meC4o-C5ieC4peC4suC4uOC4meC5gOC4o-C5gOC4meC4hOC4geC4seC5gOC4oeC4qg!5e0!3m2!1sth!2sth!4v1721822872723!5m2!1sth!2sth"
                            width="100%" 
                            height="200" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>

                        <!-- Contact Info -->
                        <div class="footer-section">
                            <h3 style="font-size: 1.5rem;">ติดต่อเรา</h3>
                            <p style="color: white;">ที่ตั้งสำนักงาน: 401 ถนนเทวาภิบาล ต.ในเมือง อ.เมืองร้อยเอ็ด จ.ร้อยเอ็ด 45000</p>
                            <p style="color: white;">📞 093-524411 | 043-512498</p>
                            <p style="color: white;">✉️ Lion.lci2025@gmail.com</p>
                        </div>
                    </div>
                </div>

                <div class="footer-bottom">
                    <p style="color: white;"> &copy; 2025 ปูนสิงโต - LCI Thailand - All rights reserved.</p>
                </div>

        </footer>

</div>
    
<!-- pop up สินค้า -->
<div class="popup-product-detail hidden" id="productDetailPopup">
      <div class="popup-overlay" onclick="closeProductPopup()"></div>
      <div class="popup-box">
        <button class="popup-close" onclick="closeProductPopup()">×</button>
        <div id="popupProductContent"></div>
      </div>
</div>

<!-- zoom image สินค้า -->
<div class="image-zoom-popup" id="imageZoomPopup">
    <div class="image-zoom-content">
        <span class="image-zoom-close-button" onclick="closeImageZoomPopup()">&times;</span>
        <img id="zoomed-image" src="" alt="ภาพขยาย" class="zoomed-image">
    </div>
</div>

<!-- mobile view -->
<div class="mobile-product-show">

</div>
    

<!-- scripts area -->
<script>

// =============================================================
// =============== GLOBAL VARIABLES ============================

let allData = null;
let currentType = "all";
let cart = JSON.parse(localStorage.getItem("currentCart")) || [];
const cartSection = document.getElementById("cartSection");
const openCartBtn = document.getElementById("openCartBtn");
const closeCartBtn = document.getElementById("closeCartBtn");
const cartItemCountSpan = document.getElementById("cartItemCount");

document.addEventListener("DOMContentLoaded", async () => {

    // =============== CART FUNCTIONS (ตัวอย่าง) ==================
    // ตรวจสอบและเพิ่ม Event Listener สำหรับปุ่มตะกร้า
    const openCartBtn = document.getElementById("openCartBtn"); // ต้องมีปุ่มนี้ใน HTML
    const closeCartBtn = document.getElementById("closeCartBtn"); // ต้องมีปุ่มนี้ใน HTML
    
    if (openCartBtn) {
        openCartBtn.addEventListener('click', toggleCartSection);
    }
    if (closeCartBtn) {
        closeCartBtn.addEventListener('click', toggleCartSection);
    }
    updateCartUI();
    // ==========================================================


    // =============== PRELOADER ===================================
    const preloader = document.getElementById("preloader");
    if (preloader) {
        setTimeout(() => {
            preloader.style.opacity = '0';
            preloader.addEventListener('transitionend', () => {
                preloader.style.display = 'none';
            }, { once: true });
        }, 300);
    }
    // =============================================================


    // =============== NAVIGATION MENU =================================
    const hamburgerMenu = document.querySelector('.hamburger-menu');
    const navList = document.querySelector('.nav-list');

    if (hamburgerMenu && navList) {
        hamburgerMenu.addEventListener('click', function() {
            hamburgerMenu.classList.toggle('active');
            navList.classList.toggle('active');
        });

        navList.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    hamburgerMenu.classList.remove('active');
                    navList.classList.remove('active');
                }
            });
        });

        window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
                hamburgerMenu.classList.remove('active');
                navList.classList.remove('active');
            }
        });

        const dropdownToggles = document.querySelectorAll('.dropdown > a');
        dropdownToggles.forEach(toggle => {
            toggle.addEventListener('click', function(event) {
                if (window.innerWidth <= 768) {
                    event.preventDefault();
                    const dropdownMenu = this.nextElementSibling;
                    if (dropdownMenu && dropdownMenu.classList.contains('dropdown-menu')) {
                        document.querySelectorAll('.dropdown-menu.active').forEach(menu => {
                            if (menu !== dropdownMenu) {
                                menu.classList.remove('active');
                            }
                        });
                        dropdownMenu.classList.toggle('active');
                    }
                }
            });
        });
    }
    // ===================================================================


    // =============== โหลดข้อมูลและตรวจสอบค่าพื้นที่ที่บันทึกไว้ =================
    await fetchData();

    const provinceFilter = document.getElementById("provinceFilter");
    const districtFilter = document.getElementById("districtFilter");

    if (provinceFilter && districtFilter) {
        if (allData && allData.provinces) {
            allData.provinces.forEach(province => {
                const option = document.createElement("option");
                option.value = province;
                option.textContent = province;
                provinceFilter.appendChild(option);
            });
        }

        const storedFilterState = JSON.parse(localStorage.getItem("filterState"));
        if (storedFilterState && storedFilterState.province) {
            provinceFilter.value = storedFilterState.province;
            if (allData && allData.districts && allData.districts[storedFilterState.province]) {
                districtFilter.innerHTML = '<option value="">เลือกอำเภอ/เขต</option>';
                allData.districts[storedFilterState.province].forEach(district => {
                    const option = document.createElement("option");
                    option.value = district;
                    option.textContent = district;
                    districtFilter.appendChild(option);
                });
                districtFilter.value = storedFilterState.district || "";
            }
            filterProducts();
        } else {
            renderCards(allData.products, null, null);
        }

        provinceFilter.addEventListener("change", () => {
            loadDistricts(provinceFilter.value);
            filterProducts();
        });
        districtFilter.addEventListener("change", filterProducts);
    }
    // =============================================================


    // =============== POPUP TIPS FUNCTIONALITY =========================
    // ฟังก์ชันสำหรับซ่อนและแสดง Tips
    const toggleTipsBtn = document.getElementById("toggleTipsBtn");
    const closetoggleTipsBtn = document.getElementById("ClosetoggleTipsBtn");
    const howToUse = document.querySelector(".pro-s-how-to-use-search");
    const productShowcase = document.querySelector(".pro-s-product-showcase");

    if (toggleTipsBtn && howToUse) {
        toggleTipsBtn.addEventListener("click", () => {
            howToUse.classList.toggle("pro-s-hidden");
        });
    }

    if (closetoggleTipsBtn && howToUse && productShowcase) {
        closetoggleTipsBtn.addEventListener("click", () => {
            const isTipsVisible = !howToUse.classList.contains("pro-s-hidden");
            howToUse.classList.toggle("pro-s-hidden");
            if (isTipsVisible) {
                productShowcase.scrollIntoView({ behavior: 'instant', block: 'start' });
            }
        });
    }
    // ===================================================================

});

// =============== SWITCH TYPE =================================
window.switchType = function (el, type) {
    currentType = type;
    document
        .querySelectorAll(".pro-s-pd-type")
        .forEach((tab) => tab.classList.remove("active"));
    document.querySelectorAll(".pro-s-pd-adv-type").forEach((tab) => tab.classList.remove("active")); // เพิ่มเพื่อให้ทำงานกับ adv-type ด้วย

    if (el) { 
        el.classList.add("active");
    }

    const otherTypeTabs = document.querySelectorAll(`.pro-s-pd-type[onclick*="'${type}'"]`);
    const otherAdvTypeTabs = document.querySelectorAll(`.pro-s-pd-adv-type[onclick*="'${type}'"]`);

    otherTypeTabs.forEach(tab => tab.classList.add('active'));
    otherAdvTypeTabs.forEach(tab => tab.classList.add('active'));


    if (allData) { 
        filterProducts();
    }
}


// Cart System
function toggleCartSection() {
    if (cartSection.classList.contains("hidden")) {
        cartSection.classList.remove("hidden");
        setTimeout(() => {
            cartSection.classList.add("show");
        }, 10);
    } else {
        cartSection.classList.remove("show");
        cartSection.addEventListener('transitionend', function handler() {
            cartSection.classList.add("hidden");
            cartSection.removeEventListener('transitionend', handler);
        });
    }
}

function showCart() {
    const cartEl = document.getElementById("cartSection");
    cartEl.classList.remove("hidden");
    setTimeout(() => {
        cartEl.classList.add("show");
    }, 10);
}

function hideCart() {
    const cartEl = document.getElementById("cartSection");
    cartEl.classList.remove("show");
    cartEl.addEventListener('transitionend', function handler() {
        cartEl.classList.add("hidden");
        cartEl.removeEventListener('transitionend', handler);
    });
}

function updateCartItemCount() {
    const uniqueItemCount = cart.length;

    if (uniqueItemCount > 0) {
        cartItemCountSpan.textContent = uniqueItemCount;
        cartItemCountSpan.style.display = "block";
    } else {
        cartItemCountSpan.style.display = "none";
    }
}

function updateCartUI() {
    const cartItemsEl = document.getElementById("cartItems");
    const cartSummaryEl = document.getElementById("cartSummary");
    const checkoutBtn = document.querySelector("#cartSummary button");
    const provinceFilter = document.getElementById("provinceFilter");
    const districtFilter = document.getElementById("districtFilter");
    const searchButton = document.querySelector('.pro-s-filter-bar button[onclick="filterProducts()"]');

    const selectedProvince = provinceFilter ? provinceFilter.value : "ไม่ได้เลือก";
    const selectedDistrict = districtFilter ? districtFilter.value : "ไม่ได้เลือก";

    const deliveryAreaText = (selectedProvince && selectedDistrict) &&
                             (selectedProvince !== "" && selectedDistrict !== "") ?
                             `${selectedProvince}, ${selectedDistrict}` : "กรุณาเลือกพื้นที่จัดส่ง";

    if (cart.length > 0) {
        if (provinceFilter) provinceFilter.disabled = true;
        if (districtFilter) districtFilter.disabled = true;
        if (searchButton) searchButton.disabled = true;
    } else {
        if (provinceFilter) provinceFilter.disabled = false;
        if (districtFilter) districtFilter.disabled = false;
        if (searchButton) searchButton.disabled = false;
    }

    updateCartItemCount();
    localStorage.setItem("currentCart", JSON.stringify(cart));

    cartItemsEl.innerHTML = "";
    let totalIncludingVatFromItems = 0;

    if (cart.length === 0) {
        cartItemsEl.innerHTML = `<div class="empty-cart-state"><i class="fas fa-shopping-basket" style="font-size: 3rem; color: #ccc; margin-bottom: 15px;"></i><p>ไม่มีสินค้าในตะกร้าของคุณ</p><a href="/pages/products/products_showall.html" class="back-to-shop-btn">เลือกซื้อสินค้า</a></div>`;
        cartSummaryEl.innerHTML = `
            <div><p style="font-size: 15px; color: #988383;" >พื้นที่จัดส่ง: ${deliveryAreaText}</p></div>
            <p>ยอดสุทธิ (ไม่รวม VAT): 0 บาท</p>
            <p><strong>ราคารวม: 0 บาท</strong></p>
            <button disabled>ดำเนินการชำระเงิน</button>
        `;
        return;
    }

    cart.forEach((item, index) => {
        const itemEl = document.createElement("div");
        itemEl.className = "cart-item";

        const qtyPerSet = parseInt(item.quantity) || 1;
        const minimumQty = parseInt(item.minimum) || 1;

        const unitLabel = item.unit || 'ชิ้น';
        const displayQty = item.qty;
        
        const setCount = Math.round(item.qty / qtyPerSet);

        itemEl.innerHTML = `
            <div class="cart-item-horizontal">
                <div class="cart-item-horizontal-box">
                    <div class="cart-item-horizontal-box-item">
                        <div class="cart-img">
                            <img src="/assets/images/products/${item.image}" alt="${item.name}">
                        </div>
                        <div class="cart-info">
                            <div class="cart-name">${item.name}</div>
                            <div class="cart-price">ราคา: ${parseFloat(item.price).toLocaleString()} บาท</div>
                        </div>
                    </div>
                    <div class="cart-remove">
                        <button onclick="removeFromCart(${index})"> <i class="fa-solid fa-trash"></i> ยกเลิก</button>
                    </div>
                </div>

                <div>
                    <div class="qty-control">
                        <button onclick="changeQty(${index}, false)">-</button>
                        <div class="truck-quantity-display">
                            <span class="truck-count">${setCount} ${item.type === 'truck' ? 'รถบรรทุก' : 'รถบรรทุก'}</span>
                        </div>
                        <button onclick="changeQty(${index}, true)">+</button>
                        <p class="bag-count">( จำนวน ${displayQty} ${unitLabel} )</p>
                    </div>
                </div>
            </div>`;
        cartItemsEl.appendChild(itemEl);
        totalIncludingVatFromItems += (parseFloat(item.price) || 0) * item.qty;
    });

    const totalExcludingVat = totalIncludingVatFromItems / 1.07;

    cartSummaryEl.innerHTML = `
        <p>ยอดสุทธิ (ไม่รวม VAT): ${totalExcludingVat.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })} บาท</p>
        <p><strong>ราคารวม: ${totalIncludingVatFromItems.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })} บาท</strong></p>
        <button onclick="checkoutCart()">ดำเนินการชำระเงิน</button>
    `;

    if (checkoutBtn) {
        checkoutBtn.disabled = false;
    }
}

function checkoutCart() {
    localStorage.setItem("checkoutCartItems", JSON.stringify(cart));
    
    localStorage.removeItem("buyNowItem"); 

    cart = [];
    localStorage.removeItem("currentCart");
    updateCartUI();

    window.location.href = "/pages/products/checkout.html";
}

function addToCartWithQty(product, qty) {
    const province = document.getElementById("provinceFilter").value;
    const district = document.getElementById("districtFilter").value;

    if (!province || !district) {
        Swal.fire({
            icon: "warning",
            title: "กรุณาเลือกพื้นที่",
            text: "คุณต้องเลือกจังหวัดและอำเภอก่อนที่จะเพิ่มสินค้าในตะกร้า",
            confirmButtonText: "ตกลง",
            confirmButtonColor: "#e74c3c",
        });
        return;
    }

    let parsedQty = parseInt(qty);
    const minQuantity = parseInt(product.minimum) || 1;

    if (isNaN(parsedQty) || parsedQty < minQuantity) {
        Swal.fire({
            icon: "warning",
            title: "จำนวนสินค้าไม่ถูกต้อง",
            text: `สำหรับสินค้า ${product.name} จำนวนขั้นต่ำคือ ${minQuantity} ${product.unit || 'ชิ้น'}.`,
            confirmButtonText: "ตกลง",
            confirmButtonColor: "#e74c3c",
        });
        return;
    }

    const existing = cart.find((item) => item.id === product.id);
    if (existing) {
        existing.qty += parsedQty;
    } else {
        cart.push({ ...product, qty: parsedQty, province: province, district: district });
    }

    updateCartUI();
    showCart();

    Swal.fire({
        icon: 'success',
        title: 'เพิ่มสินค้าลงตะกร้าแล้ว',
        showConfirmButton: false,
        timer: 1500
    });
}

function addToCart(productData, quantityToAddFromPopup) {
    const province = document.getElementById("provinceFilter").value;
    const district = document.getElementById("districtFilter").value;
  
    if (!province || !district) {
        Swal.fire({
            icon: "warning",
            title: "กรุณาเลือกพื้นที่ก่อน",
            text: "คุณต้องเลือกจังหวัดและอำเภอก่อนที่จะเพิ่มสินค้าในตะกร้า",
            confirmButtonText: "ตกลง",
            confirmButtonColor: "#e74c3c",
        });
        return;
    }

    const minQuantityForProduct = parseInt(productData.minimum) || 1;
    const qtyPerSet = parseInt(productData.quantity) || 1;

    let finalQuantityToAdd = quantityToAddFromPopup;

    if (!finalQuantityToAdd) {
        finalQuantityToAdd = qtyPerSet;
    } else {
        if (finalQuantityToAdd < minQuantityForProduct) {
            finalQuantityToAdd = minQuantityForProduct;
        }
    }

    const existing = cart.find((item) => item.id === productData.id);
    if (existing) {
        existing.qty += finalQuantityToAdd;
    } else {
        cart.push({ ...productData, qty: finalQuantityToAdd, province: province, district: district });
    }

    updateCartUI();
    showCart();
}

function removeFromCart(index) {
    cart.splice(index, 1);
    updateCartUI();
    localStorage.setItem("currentCart", JSON.stringify(cart));
}

function changeQty(index, isIncrement) {
    const item = cart[index];
    if (!item) return;

    const qtyPerSet = parseInt(item.quantity) || 1;
    const minQty = parseInt(item.minimum) || 1;
    
    let newQty;
    if (isIncrement) {
        newQty = item.qty + qtyPerSet;
    } else {
        newQty = item.qty - qtyPerSet;
    }

    if (newQty >= minQty) {
        item.qty = newQty;
    } else if (newQty < minQty && newQty > 0) {
        item.qty = minQty;
    } else {
        removeFromCart(index);
        return;
    }

    updateCartUI();
    localStorage.setItem("currentCart", JSON.stringify(cart));
}

function showProductPopup(product) {
    const popup = document.getElementById("productDetailPopup");
    const content = document.getElementById("popupProductContent");

    document.body.classList.add('no-scroll');

    const images = [
        product.image,
        product.image1,
        product.image2,
        product.image3,
    ].filter((img, index, self) => img && self.indexOf(img) === index);

    const thumbnailsHTML = images
        .map(
            (img) =>
                `<img
                    src="/assets/images/products/${img}"
                    alt="รูปเพิ่มเติม"
                    style="width: 70px; height: 70px; border-radius: 6px; object-fit: cover; cursor: pointer; border: 2px solid #ddd;"
                    onclick="document.getElementById('mainPopupImg').src='/assets/images/products/${img}';"
                >`
        )
        .join("");

    const minQuantity = product.type === "bag" ? 640 : (parseInt(product.minimum) || 1);
    const initialQuantity = minQuantity;

    const minimumComment = product.minimumcomment || '';

    let displayPriceInPopup;
    if (product.price === "N/A" || product.price === null || product.price === undefined || product.price === 0) {
        displayPriceInPopup = "N/A";
    } else if (product.type === "bag") {
        displayPriceInPopup = product.price.toLocaleString();
    } else {
        displayPriceInPopup = product.price.toLocaleString();
    }

    content.innerHTML = `<div class="popup-box-show">
                <div class="popup-left">
                  <div class="popup-left-boximg">
                    <div>
                      <img id="mainPopupImg" src="/assets/images/products/${images[0] || ''}" alt="ตัวอย่างสินค้า ${product.name}" style="cursor: zoom-in;">
                    </div>
                    <div>
                      <div class="popup-thumbnails" >
                        ${thumbnailsHTML}
                      </div>
                    </div>
                  </div>

                  <div class="popup-left-box">
                    <div class="popup-left-box-con">

                      <div class="p-l-b-details">
                        <div class="p-l-b-s-title">
                          <p>คุณสมบัติ</p><hr>
                        </div>
                        <div class="plbs-con">
                          <p>
                            ${product.feature || ''}
                          </p>
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </div>


                <div class="popup-right">
                    <div class="popup-add-v-detail">
                      <h2>${product.name} ขนาด ${product.weight || ''}</h2>
                      <p style="color:#555; font-size: 1.3rem;">${product.description || ''} ${product.typeWork || ''}</p>
                      <div class="popup-right-price">
                        <p class="popup-right-price-r"><strong>ราคา:</strong> ${displayPriceInPopup} บาท/${product.unit || ''}</p>
                        <p><strong>พื้นที่:</strong> ${
                            product.province || ''
                        }, ${product.district || ''}</p>
                      </div>
                    </div>
                    <div class="p-l-b-standard">
                        <div class="p-l-b-s-title">
                          <p >มาตรฐานอุตสาหกรรม</p><hr>
                        </div>
                        <div class="plbs-con">
                          <div class="plbs-box">
                            <a href="#">
                              <img src="/assets/images/products/${product.standardImg1 || ''}" alt="">
                            </a>
                            <div class="popup-standard-logo-detail">
                              <p>${product.standard1 || ''}</p>
                            </div>
                          </div>

                          <div class="plbs-box">
                            <a href="#">
                              <img src="/assets/images/products/${product.standardImg2 || ''}" alt="">
                            </a>
                            <div class="popup-standard-logo-detail">
                              <p>${product.standard2 || ''}</p>
                            </div>
                          </div>
                        </div>
                    </div>

                    <div class="p-l-b-strength">
                        <div class="p-l-b-s-title">
                          <p >ข้อมูลผลิตภัณฑ์</p><hr>
                        </div>
                        <div class="plbs-con">
                          <div>
                            <p>
                              ${product.detail || ''}
                            </p>
                          </div>
                        </div>
                    </div>
                </div>

                <div class="popup-close">
                    <button class="popup-close-btn" onclick="closeProductPopup()">×</button>
                </div>
                <div class="mobile-popup-close">
                    <button style="
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        gap: 8px;
                        margin-top: 20px;
                        background-color: white; /* เปลี่ยนเป็นพื้นหลังสีขาว */
                        color: #D60000; /* เปลี่ยนสีข้อความเป็นสีแดง */
                        border: 2px solid #D60000; /* เพิ่มเส้นขอบสีแดง 2px */
                        padding: 10px 20px;
                        border-radius: 8px;
                        font-size: 16px;
                        cursor: pointer;
                        transition: all 0.3s ease; /* ใช้ transition กับ 'all' เพื่อให้ครอบคลุมการเปลี่ยนแปลงอื่นๆ */
                        width: 100%;
                        box-sizing: border-box;
                    " class="popup-close-btn" onclick="closeProductPopup()">
                        <i class="fa-solid fa-times"></i> ปิด
                    </button>
                </div>
            </div>`;

    popup.classList.remove("hidden");

    // **เพิ่ม Event Listener สำหรับรูปภาพหลักเพื่อซูม**
    const mainPopupImg = document.getElementById('mainPopupImg');
    if (mainPopupImg) {
        mainPopupImg.addEventListener('click', () => {
            openImageZoomPopup(mainPopupImg.src);
        });
    }

    const qtyInput = document.getElementById("qtyInput");
    const btnIncrease = popup.querySelector(".increase");
    const btnDecrease = popup.querySelector(".decrease");
    const btnAddToCart = popup.querySelector(".popup-add-cart-btn");
    const btnBuyNow = popup.querySelector(".popup-buy-now-btn");

    if (btnIncrease && btnDecrease && qtyInput) {
        btnIncrease.onclick = () => {
            qtyInput.value = parseInt(qtyInput.value) + 1;
        };

        btnDecrease.onclick = () => {
            const currentVal = parseInt(qtyInput.value);
            if (currentVal > minQuantity) {
                qtyInput.value = currentVal - 1;
            } else {
                qtyInput.value = minQuantity;
                Swal.fire({
                    icon: "warning",
                    title: "จำนวนสินค้าขั้นต่ำ",
                    text: `สำหรับสินค้านี้ (${product.name}) จำนวนขั้นต่ำคือ ${minQuantity} ${product.unit || 'ชิ้น'}.`,
                    confirmButtonText: "ตกลง",
                    confirmButtonColor: "#e74c3c",
                });
            }
        };

        qtyInput.addEventListener("change", () => {
            let currentVal = parseInt(qtyInput.value);

            if (isNaN(currentVal) || currentVal < minQuantity) {
                qtyInput.value = minQuantity;
                Swal.fire({
                    icon: "warning",
                    title: "จำนวนสินค้าขั้นต่ำ",
                    text: `สำหรับสินค้านี้ (${product.name}) ต้องสั่งขั้นต่ำ ${minQuantity} ${product.unit || 'ชิ้น'}.`,
                    confirmButtonText: "ตกลง",
                    confirmButtonColor: "#e74c3c",
                });
            }
        });

        qtyInput.addEventListener("input", () => {
            let currentVal = parseInt(qtyInput.value);
            if (isNaN(currentVal) || currentVal < minQuantity) {
                // ไม่ต้องแสดง Swal.fire ตรงนี้ซ้ำ เพราะจะถูกจัดการใน 'change' event หรือเมื่อกดปุ่ม
            }
        });
    }

    if (btnAddToCart) {
        btnAddToCart.addEventListener('click', () => {
            const quantity = parseInt(qtyInput.value);
            if (quantity < minQuantity) {
                qtyInput.value = minQuantity;
                Swal.fire({
                    icon: "warning",
                    title: "จำนวนสินค้าไม่ถูกต้อง",
                    text: `จำนวนที่ป้อน (${quantity}) ไม่ถึงขั้นต่ำ (${minQuantity}) สำหรับสินค้านี้ (${product.name}). ระบบจะปรับเป็น ${minQuantity}.`,
                    confirmButtonText: "ตกลง",
                    confirmButtonColor: "#e74c3c",
                });
                return;
            }

            if (product.price === "N/A" || product.price === null || product.price === undefined || product.price === 0) {
                Swal.fire({
                    icon: "error",
                    title: "ไม่สามารถเพิ่มสินค้าได้",
                    text: `สินค้านี้ ${product.name} ยังไม่มีข้อมูลราคาที่ถูกต้องสำหรับพื้นที่ที่คุณเลือก.`,
                    confirmButtonText: "ตกลง",
                    confirmButtonColor: "#e74c3c",
                }).then((result) => {
                    if (result.isConfirmed) {
                        filterProducts(); // ถ้าฟังก์ชันนี้มีอยู่
                        closeProductPopup();
                    }
                });
            } else {
                addToCart(product, quantity); // ต้องแน่ใจว่าฟังก์ชัน addToCart ถูกประกาศไว้
                closeProductPopup();
            }
        });
    }

    if (btnBuyNow) {
        btnBuyNow.addEventListener('click', () => {
            const quantity = parseInt(qtyInput.value);
            if (quantity < minQuantity) {
                qtyInput.value = minQuantity;
                Swal.fire({
                    icon: "warning",
                    title: "จำนวนสินค้าไม่ถูกต้อง",
                    text: `จำนวนที่ป้อน (${quantity}) น้อยกว่าจำนวนขั้นต่ำ (${minQuantity}) สำหรับการสั่งสินค้านี้ (${product.name}). ระบบจะปรับเป็น ${minQuantity}.`,
                    confirmButtonText: "ตกลง",
                    confirmButtonColor: "#e74c3c",
                });
                return;
            }

            if (product.price === "N/A" || product.price === null || product.price === undefined || product.price === 0) {
                Swal.fire({
                    icon: "error",
                    title: "ไม่สามารถสั่งซื้อได้",
                    text: `สินค้านี้ ${product.name} ยังไม่มีข้อมูลราคาที่ถูกต้องสำหรับพื้นที่ที่คุณเลือก.`,
                    confirmButtonText: "ตกลง",
                    confirmButtonColor: "#e74c3c",
                }).then((result) => {
                    if (result.isConfirmed) {
                        filterProducts(); // ถ้าฟังก์ชันนี้มีอยู่
                        closeProductPopup();
                    }
                });
            } else {
                const itemToBuy = {
                    ...product,
                    quantity: quantity
                };
                localStorage.setItem('buyNowItem', JSON.stringify(itemToBuy));

                window.location.href = '/pages/products/checkout.html';
            }
        });
    }
}

function openImageZoomPopup(imageSrc) {
    const imageZoomPopup = document.getElementById('imageZoomPopup');
    const zoomedImage = document.getElementById('zoomed-image');
    
    zoomedImage.src = imageSrc; 
    imageZoomPopup.classList.add('is-visible');

    document.body.classList.add('no-scroll'); 
}

function closeImageZoomPopup() {
    const imageZoomPopup = document.getElementById('imageZoomPopup');
    imageZoomPopup.classList.remove('is-visible'); 
    
    const productDetailPopup = document.getElementById('productDetailPopup');
    if (productDetailPopup.classList.contains('hidden')) { 
        document.body.classList.remove('no-scroll');
    }
}

document.addEventListener('keydown', (event) => {
    const productDetailPopup = document.getElementById('productDetailPopup');
    const imageZoomPopup = document.getElementById('imageZoomPopup');
    
    if (event.key === 'Escape' || event.key === 'Esc') {
        if (imageZoomPopup.classList.contains('is-visible')) {
            closeImageZoomPopup();
        } 
        else if (!productDetailPopup.classList.contains('hidden')) { 
            closeProductPopup();
        }
    }
});

function closeProductPopup() {
    document.getElementById("productDetailPopup").classList.add("hidden");
    
    const imageZoomPopup = document.getElementById('imageZoomPopup');
    if (!imageZoomPopup.classList.contains('is-visible')) {
        document.body.classList.remove('no-scroll');
    }
}

// card and filter data
function filterProducts() {
    const searchInput = document.getElementById("searchInput").value.toLowerCase();
    const province = document.getElementById("provinceFilter").value;
    const district = document.getElementById("districtFilter").value;

    const dealerProvinces = ["กาฬสินธุ์", "อำนาจเจริญ", "บึงกาฬ", "เลย"];
    const isDealerProvince = dealerProvinces.includes(province);

    if (!province) {
        renderCards(allData.products, null, null);
        return;
    }
    
    // ถ้าเป็นจังหวัดดีลเลอร์ ให้แสดง SweetAlert และหยุดการทำงาน
    if (isDealerProvince) {
        localStorage.setItem(
            "filterState",
            JSON.stringify({
                province,
                district: null,
                searchInput,
                currentType,
            })
        );
        
        Swal.fire({
            icon: 'info',
            title: '<span style="color: #ca0000;">พื้นที่นี้ต้องติดต่อดีลเลอร์</span>',
            html: '<span style="color: #ca0000;">กรุณาติดต่อตัวแทนจำหน่ายในพื้นที่โดยตรง</span>',
            confirmButtonText: 'รับทราบ',
            background: '#ffffff', 
            iconColor: '#ca0000', 
            confirmButtonColor: '#ca0000', 
            customClass: {
                popup: 'my-red-alert-popup'
            }
        });

        document.getElementById("productGrid").innerHTML = '';
        return;
    }

    if (!district) {
        return;
    }
    
    localStorage.setItem(
        "filterState",
        JSON.stringify({
            province,
            district,
            searchInput,
            currentType,
        })
    );
    
    const priceData = allData.prices?.[province]?.[district];
    if (!priceData) {
        document.getElementById("productGrid").innerHTML =
            "<p>ไม่พบข้อมูลสินค้าสำหรับพื้นที่นี้</p>";
        return;
    }

    const filteredProducts = allData.products.filter((p) => {
        const text = `${p.name} ${p.description}`.toLowerCase();
        return (
            (!searchInput || text.includes(searchInput)) &&
            (currentType === "all" || p.type === currentType)
        );
    });

    document.getElementById("productGrid").scrollIntoView({
        behavior: "smooth",
    });

    renderCards(filteredProducts, priceData, {
        province,
        district,
    });
}

function formatPrice(price) {
    if (typeof price !== 'number' || isNaN(price)) {
        return price;
    }

    if (price === 0) {
        return "0 บาท";
    }

    if (price < 1000000) {
        return price.toLocaleString() + " บาท";
    }
    else {
        const millions = price / 1000000;
        const formattedMillions = parseFloat(millions.toFixed(1));
        return `${formattedMillions} ล้านบาท`;
    }
}

function renderCards(products, priceData, areaInfo) {
    const grid = document.getElementById("productGrid");
    grid.innerHTML = "";

    if (!products || products.length === 0) {
        grid.innerHTML = `<p style="padding: 20px; font-size: 5rem; color: #c62828;">ไม่พบสินค้าในพื้นที่ที่ท่านเลือก</p>`;
        return;
    }

    products.forEach((product) => {

        const price = priceData && priceData[product.id] !== undefined ? priceData[product.id] : "N/A";

        const productData = {
            ...product,
            price: price !== "N/A" ? parseFloat(price) : 0,
            province: areaInfo?.province || "",
            district: areaInfo?.district || "",
        };

        let priceDisplayText = '';
        let priceVisibilityClass = '';

        if (productData.price !== 0) {
            if (product.type === "bag") {
                priceDisplayText = `<strong>${formatPrice(productData.price)}/${product.unit || ''}</strong>`;
            } else {
                priceDisplayText = `<strong> ${formatPrice(productData.price)}/${product.unit || ''}</strong>`;
            }
        } else {
            priceDisplayText = `<strong>N/A บาท/${product.unit || ''}</strong>`;
            priceVisibilityClass = 'hide-na-price-text';
        }

        const card = document.createElement("div");
        card.className = "p-c-product-card";
        card.innerHTML = `<img src="/assets/images/products/${
                product.image || ''
            }" alt="${product.name}">
                        <div class="p-c-product-info">
                            <div class="pcpi-box">
                                <div class="p-c-product-title"><p>${product.name}</p></div>
                                <div class="pcpd-box">
                                  <div class="p-c-product-detail"><p>${product.description || ''}</p></div>
                                  <div class="p-c-product-detail"><p>${product.typeWork || ''}</p></div>
                                </div>
                                <div class="p-c-product-price">
                                    <p class="${priceVisibilityClass} ">ราคา: <span> ${priceDisplayText} </span></p>
                                    <p class="p-c-product-value">( บรรจุ ${product.weight}/${product.unit} )</p>
                                </div>
                                <div class="m-p-c-product-price">
                                    <p class="${priceVisibilityClass} "><span>฿ ${priceDisplayText} </span></p>
                                    <p class="m-p-c-product-value">( บรรจุ ${product.weight}/${product.unit} )</p>
                                    <p> </p>
                                </div>
                                <div>
                                </div>

                                <div class="p-c-product-area">
                                    <div><p >พื้นที่: ${productData.province}, ${productData.district}</p></div>
                                </div>
                                <div class="m-p-c-product-area">
                                    <div><p > ${productData.province}, ${productData.district}</p></div>
                                </div>

                            </div>
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <button class="p-c-buy-btn" onclick='showProductPopup(${JSON.stringify(productData)})'><i class="fa-solid fa-magnifying-glass"></i> รายละเอียด</button>
                                <button class="p-c-add-cart-btn"><i class="fa-solid fa-cart-arrow-down"></i> เพิ่มลงตะกร้า</button>
                                <p class="p-c-note">( สั่งขั้นต่ำ 1 รถบรรทุก )</p>
                            </div>
                            
                        </div>
            `;
        card.querySelector(".p-c-add-cart-btn").addEventListener("click", () => {
            if (productData.price === 0) {
                Swal.fire({
                    icon: "error",
                    title: "ไม่สามารถเพิ่มสินค้าได้",
                    text: `กรุณาเลือกจังหวัดและอำเภอที่ต้องการ เพื่อดูราคาและดำเนินการต่อ.`,
                    confirmButtonText: "ตกลง",
                    confirmButtonColor: "#e74c3c",
                }).then((result) => {
                    if (result.isConfirmed) {
                        filterProducts();
                    }
                });
            } else {
                addToCart(productData);
            }
        });

        grid.appendChild(card);
    });
}


// =============== โหลดข้อมูล Products และ Prices ===================
async function fetchData() {
    try {
        const [datasResponse, areaResponse] = await Promise.all([
            fetch("/poon-singto-datas.json"), 
            fetch("/poon-singto-area.json")  
        ]);

        const datas = await datasResponse.json();
        const areaDataArray = await areaResponse.json(); 

        const provinces = areaDataArray.map(item => item.province);
        const districts = {};
        areaDataArray.forEach(item => {
            districts[item.province] = item.districts;
        });

        allData = {
            products: datas.products,
            prices: datas.prices,
            provinces: provinces,
            districts: districts
        };
        console.log("Data loaded and structured:", allData);

    } catch (error) {
        console.error("Error loading data:", error);
        document.getElementById("productGrid").innerHTML = `<p style="padding: 20px; font-size: 5rem; color: #c62828;">เกิดข้อผิดพลาดในการโหลดข้อมูลสินค้า</p>`;
    }
}


// =============== โหลดอำเภอตามจังหวัดที่เลือก =====================
function loadDistricts(selectedProvince) {
    const districtFilter = document.getElementById("districtFilter");
    districtFilter.innerHTML = '<option value="">เลือกอำเภอ/เขต</option>'; 

    if (selectedProvince && allData && allData.districts && allData.districts[selectedProvince]) {
        allData.districts[selectedProvince].forEach(district => {
            const option = document.createElement("option");
            option.value = district;
            option.textContent = district;
            districtFilter.appendChild(option);
        });
    }
}

</script>

</body>
</html>